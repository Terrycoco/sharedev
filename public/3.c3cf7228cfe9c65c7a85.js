webpackJsonp([3,13],{

/***/ 818:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(47),_reactDom2=_interopRequireDefault(_reactDom),_reactRedux=__webpack_require__(30),_PageBar=__webpack_require__(322),_PageBar2=_interopRequireDefault(_PageBar),_WalkingMap=__webpack_require__(926),_WalkingMap2=_interopRequireDefault(_WalkingMap),_Drawer=__webpack_require__(912),_Drawer2=_interopRequireDefault(_Drawer),_Directions=__webpack_require__(924),_Directions2=_interopRequireDefault(_Directions),_walkActions=__webpack_require__(324),actions=_interopRequireWildcard(_walkActions),_StopDetail=__webpack_require__(925),_StopDetail2=_interopRequireDefault(_StopDetail),_FadeIn=__webpack_require__(919),_FadeIn2=_interopRequireDefault(_FadeIn);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}__webpack_require__(936),__webpack_require__(880),__webpack_require__(881);var Walking=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.state={isFlipped:!1},d.handleClick=d.handleClick.bind(d),d.toNext=d.toNext.bind(d),d.toPrev=d.toPrev.bind(d),d.flip=d.flip.bind(d),d.goToTop=d.goToTop.bind(d),d}return _inherits(b,a),_createClass(b,[{key:'componentDidUpdate',value:function componentDidUpdate(){this.goToTop()}},{key:'flip',value:function flip(){this.setState({isFlipped:!this.state.isFlipped}),console.log('flip after set',this.state.isFlipped),this.goToTop()}},{key:'toNext',value:function toNext(){var c=this.props.selectedStopIdx+1;c<=this.props.stopCount-1&&this.props.saveStopIdx(c)}},{key:'goToTop',value:function goToTop(){console.log('flip goToTop',this.state.isFlipped),this.state.isFlipped||(console.log('got here'),document.getElementById('toppage').scrollIntoView())}},{key:'toPrev',value:function toPrev(){var c=this.props.selectedStopIdx-1;0<=c&&(this.props.saveStopIdx(c),this.goToTop())}},{key:'handleClick',value:function handleClick(c){c.preventDefault();var d=this._name.value;this.props.getWalkStops(d)}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'PAGE',key:'walking'},_react2.default.createElement(_PageBar2.default,{title:'Walking',iconLeft:'goLeft',onLeft:'summary',iconRight:this.state.isFlipped?'info':'Map',onRight:this.flip}),_react2.default.createElement('div',{className:'CONTENT'},_react2.default.createElement('div',{className:'COLUMN-1'},_react2.default.createElement('div',{className:this.state.isFlipped?'flip-container flip':'flip-container'},_react2.default.createElement('div',{className:'flipper'},_react2.default.createElement('div',{className:'front'},_react2.default.createElement(_StopDetail2.default,{isShowing:!this.state.isFlipped})),_react2.default.createElement('div',{className:'back'},_react2.default.createElement(_WalkingMap2.default,null),_react2.default.createElement(_Directions2.default,{onNextStopClick:this.toNextStop})))),_react2.default.createElement('div',{className:'stop-btns'},_react2.default.createElement('button',{className:'btn-sm',onClick:this.toPrev},'Prev'),_react2.default.createElement('button',{className:'btn-sm',onClick:this.toNext},'Next')))))}}]),b}(_react.Component);function mapStateToProps(a){var b=a.walks.selectedWalk;return{stopCount:b.stops.length,selectedStopIdx:b.selectedStopIdx}}exports.default=(0,_reactRedux.connect)(mapStateToProps,actions)(Walking);

/***/ }),

/***/ 819:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _react=__webpack_require__(5),horizontal=_react.PropTypes.oneOf(['left','middle','right']),vertical=_react.PropTypes.oneOf(['top','center','bottom']);exports.default={corners:_react.PropTypes.oneOf(['bottom-left','bottom-right','top-left','top-right']),horizontal:horizontal,vertical:vertical,origin:_react.PropTypes.shape({horizontal:horizontal,vertical:vertical}),cornersAndCenter:_react.PropTypes.oneOf(['bottom-center','bottom-left','bottom-right','top-center','top-left','top-right']),stringOrNumber:_react.PropTypes.oneOfType([_react.PropTypes.string,_react.PropTypes.number]),zDepth:_react.PropTypes.oneOf([0,1,2,3,4,5])};

/***/ }),

/***/ 820:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0}),exports.default=void 0;var _Paper=__webpack_require__(824),_Paper2=_interopRequireDefault(_Paper);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}exports.default=_Paper2.default;

/***/ }),

/***/ 823:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0}),exports.default=void 0;var _RaisedButton=__webpack_require__(825),_RaisedButton2=_interopRequireDefault(_RaisedButton);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}exports.default=_RaisedButton2.default;

/***/ }),

/***/ 824:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _extends2=__webpack_require__(54),_extends3=_interopRequireDefault(_extends2),_objectWithoutProperties2=__webpack_require__(61),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_getPrototypeOf=__webpack_require__(21),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(18),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(20),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(23),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(22),_inherits3=_interopRequireDefault(_inherits2),_simpleAssign=__webpack_require__(41),_simpleAssign2=_interopRequireDefault(_simpleAssign),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(819),_propTypes2=_interopRequireDefault(_propTypes),_transitions=__webpack_require__(81),_transitions2=_interopRequireDefault(_transitions);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function getStyles(a,b){var c=a.rounded,d=a.circle,e=a.transitionEnabled,f=a.zDepth,g=b.muiTheme,h=g.baseTheme,i=g.paper;return{root:{color:i.color,backgroundColor:i.backgroundColor,transition:e&&_transitions2.default.easeOut(),boxSizing:'border-box',fontFamily:h.fontFamily,WebkitTapHighlightColor:'rgba(0,0,0,0)',boxShadow:i.zDepthShadows[f-1],borderRadius:d?'50%':c?'2px':'0px'}}}var Paper=function(a){function b(){return(0,_classCallCheck3.default)(this,b),(0,_possibleConstructorReturn3.default)(this,(b.__proto__||(0,_getPrototypeOf2.default)(b)).apply(this,arguments))}return(0,_inherits3.default)(b,a),(0,_createClass3.default)(b,[{key:'render',value:function(){var d=this.props,e=d.children,f=d.circle,g=d.rounded,h=d.style,i=d.transitionEnabled,j=d.zDepth,k=(0,_objectWithoutProperties3.default)(d,['children','circle','rounded','style','transitionEnabled','zDepth']),l=this.context.muiTheme.prepareStyles,m=getStyles(this.props,this.context);return _react2.default.createElement('div',(0,_extends3.default)({},k,{style:l((0,_simpleAssign2.default)(m.root,h))}),e)}}]),b}(_react.Component);Paper.defaultProps={circle:!1,rounded:!0,transitionEnabled:!0,zDepth:1},Paper.contextTypes={muiTheme:_react.PropTypes.object.isRequired}, true?void 0:Paper.propTypes={children:_react.PropTypes.node,circle:_react.PropTypes.bool,rounded:_react.PropTypes.bool,style:_react.PropTypes.object,transitionEnabled:_react.PropTypes.bool,zDepth:_propTypes2.default.zDepth},exports.default=Paper;

/***/ }),

/***/ 825:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,'__esModule',{value:!0});var _extends2=__webpack_require__(54),_extends3=_interopRequireDefault(_extends2),_objectWithoutProperties2=__webpack_require__(61),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_getPrototypeOf=__webpack_require__(21),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(18),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(20),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(23),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(22),_inherits3=_interopRequireDefault(_inherits2),_simpleAssign=__webpack_require__(41),_simpleAssign2=_interopRequireDefault(_simpleAssign),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_transitions=__webpack_require__(81),_transitions2=_interopRequireDefault(_transitions),_colorManipulator=__webpack_require__(136),_childUtils=__webpack_require__(205),_EnhancedButton=__webpack_require__(321),_EnhancedButton2=_interopRequireDefault(_EnhancedButton),_Paper=__webpack_require__(820),_Paper2=_interopRequireDefault(_Paper);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function validateLabel(a,b,c){if(false)return new Error('Required prop label or children or icon was not specified in '+c+'.')}function getStyles(a,b,c){var d=b.muiTheme,e=d.baseTheme,f=d.button,g=d.raisedButton,h=a.disabled,i=a.disabledBackgroundColor,j=a.disabledLabelColor,k=a.fullWidth,l=a.icon,m=a.label,n=a.labelPosition,o=a.primary,p=a.secondary,q=a.style,r=o||p?0.4:0.08,s=g.color,t=g.textColor;h?(s=i||g.disabledColor,t=j||g.disabledTextColor):o?(s=g.primaryColor,t=g.primaryTextColor):p?(s=g.secondaryColor,t=g.secondaryTextColor):(a.backgroundColor&&(s=a.backgroundColor),a.labelColor&&(t=a.labelColor));var u=q&&q.height||f.height,v=2;return{root:{display:'inline-block',transition:_transitions2.default.easeOut(),minWidth:k?'100%':f.minWidth},button:{height:u,lineHeight:u+'px',width:'100%',padding:0,borderRadius:v,transition:_transitions2.default.easeOut(),backgroundColor:s,textAlign:'center'},label:{position:'relative',opacity:1,fontSize:g.fontSize,letterSpacing:0,textTransform:g.textTransform||f.textTransform||'uppercase',fontWeight:g.fontWeight,margin:0,userSelect:'none',paddingLeft:l&&'before'!==n?8:e.spacing.desktopGutterLess,paddingRight:l&&'before'===n?8:e.spacing.desktopGutterLess,color:t},icon:{verticalAlign:'middle',marginLeft:m&&'before'!==n?12:0,marginRight:m&&'before'===n?12:0},overlay:{height:u,borderRadius:v,backgroundColor:(c.keyboardFocused||c.hovered)&&!h&&(0,_colorManipulator.fade)(t,r),transition:_transitions2.default.easeOut(),top:0},ripple:{color:t,opacity:o||p?0.16:0.1}}}var RaisedButton=function(a){function b(){var c,d,e,f;(0,_classCallCheck3.default)(this,b);for(var g=arguments.length,h=Array(g),i=0;i<g;i++)h[i]=arguments[i];return f=(d=(e=(0,_possibleConstructorReturn3.default)(this,(c=b.__proto__||(0,_getPrototypeOf2.default)(b)).call.apply(c,[this].concat(h))),e),e.state={hovered:!1,keyboardFocused:!1,touched:!1,initialZDepth:0,zDepth:0},e.handleMouseDown=function(j){0===j.button&&e.setState({zDepth:e.state.initialZDepth+1}),e.props.onMouseDown&&e.props.onMouseDown(j)},e.handleMouseUp=function(j){e.setState({zDepth:e.state.initialZDepth}),e.props.onMouseUp&&e.props.onMouseUp(j)},e.handleMouseLeave=function(j){e.state.keyboardFocused||e.setState({zDepth:e.state.initialZDepth,hovered:!1}),e.props.onMouseLeave&&e.props.onMouseLeave(j)},e.handleMouseEnter=function(j){e.state.keyboardFocused||e.state.touched||e.setState({hovered:!0}),e.props.onMouseEnter&&e.props.onMouseEnter(j)},e.handleTouchStart=function(j){e.setState({touched:!0,zDepth:e.state.initialZDepth+1}),e.props.onTouchStart&&e.props.onTouchStart(j)},e.handleTouchEnd=function(j){e.setState({touched:!0,zDepth:e.state.initialZDepth}),e.props.onTouchEnd&&e.props.onTouchEnd(j)},e.handleKeyboardFocus=function(j,k){var l=k&&!e.props.disabled?e.state.initialZDepth+1:e.state.initialZDepth;e.setState({zDepth:l,keyboardFocused:k})},d),(0,_possibleConstructorReturn3.default)(e,f)}return(0,_inherits3.default)(b,a),(0,_createClass3.default)(b,[{key:'componentWillMount',value:function(){var d=this.props.disabled?0:1;this.setState({zDepth:d,initialZDepth:d})}},{key:'componentWillReceiveProps',value:function(d){var e=d.disabled?0:1,f={zDepth:e,initialZDepth:e};d.disabled&&(f.hovered=!1),this.setState(f)}},{key:'render',value:function(){var d=this.props,e=d.backgroundColor,f=d.buttonStyle,g=d.children,h=d.className,i=d.disabled,j=d.disabledBackgroundColor,k=d.disabledLabelColor,l=d.fullWidth,m=d.icon,n=d.label,o=d.labelColor,p=d.labelPosition,q=d.labelStyle,r=d.overlayStyle,s=d.primary,t=d.rippleStyle,u=d.secondary,v=d.style,w=(0,_objectWithoutProperties3.default)(d,['backgroundColor','buttonStyle','children','className','disabled','disabledBackgroundColor','disabledLabelColor','fullWidth','icon','label','labelColor','labelPosition','labelStyle','overlayStyle','primary','rippleStyle','secondary','style']),x=this.context.muiTheme.prepareStyles,y=getStyles(this.props,this.context,this.state),z=(0,_simpleAssign2.default)({},y.ripple,t),A=i?{}:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus},B=n&&_react2.default.createElement('span',{style:x((0,_simpleAssign2.default)(y.label,q))},n),C=m&&(0,_react.cloneElement)(m,{color:m.props.color||y.label.color,style:(0,_simpleAssign2.default)(y.icon,m.props.style)}),D='before'===p?{labelElement:B,iconCloned:C,children:g}:{children:g,iconCloned:C,labelElement:B},E=(0,_childUtils.createChildFragment)(D);return _react2.default.createElement(_Paper2.default,{className:h,style:(0,_simpleAssign2.default)(y.root,v),zDepth:this.state.zDepth},_react2.default.createElement(_EnhancedButton2.default,(0,_extends3.default)({},w,A,{ref:'container',disabled:i,style:(0,_simpleAssign2.default)(y.button,f),focusRippleColor:z.color,touchRippleColor:z.color,focusRippleOpacity:z.opacity,touchRippleOpacity:z.opacity}),_react2.default.createElement('div',{ref:'overlay',style:x((0,_simpleAssign2.default)(y.overlay,r))},E)))}}]),b}(_react.Component);RaisedButton.muiName='RaisedButton',RaisedButton.defaultProps={disabled:!1,labelPosition:'after',fullWidth:!1,primary:!1,secondary:!1},RaisedButton.contextTypes={muiTheme:_react.PropTypes.object.isRequired}, true?void 0:RaisedButton.propTypes={backgroundColor:_react.PropTypes.string,buttonStyle:_react.PropTypes.object,children:_react.PropTypes.node,className:_react.PropTypes.string,disabled:_react.PropTypes.bool,disabledBackgroundColor:_react.PropTypes.string,disabledLabelColor:_react.PropTypes.string,fullWidth:_react.PropTypes.bool,href:_react.PropTypes.string,icon:_react.PropTypes.node,label:validateLabel,labelColor:_react.PropTypes.string,labelPosition:_react.PropTypes.oneOf(['before','after']),labelStyle:_react.PropTypes.object,onMouseDown:_react.PropTypes.func,onMouseEnter:_react.PropTypes.func,onMouseLeave:_react.PropTypes.func,onMouseUp:_react.PropTypes.func,onTouchEnd:_react.PropTypes.func,onTouchStart:_react.PropTypes.func,overlayStyle:_react.PropTypes.object,primary:_react.PropTypes.bool,rippleStyle:_react.PropTypes.object,secondary:_react.PropTypes.bool,style:_react.PropTypes.object},exports.default=RaisedButton;

/***/ }),

/***/ 877:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _Mathacos=Math.acos,_MathLN=Math.LN2,_Mathatan=Math.atan,_Mathexp=Math.exp,_Mathlog=Math.log,_Mathsin=Math.sin,_Mathcos=Math.cos,_MathPI=Math.PI,_Mathmin=Math.min,_Mathabs=Math.abs,_Mathsqrt=Math.sqrt,_Mathceil=Math.ceil,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathround=Math.round,_Mathpow=Math.pow,_typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&'function'==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?'symbol':typeof o};(function(o,_,g){var h={version:'1.0.3'};'object'===( false?'undefined':_typeof(module))&&'object'===_typeof(module.exports)?module.exports=h:'function'=="function"&&__webpack_require__(938)&&!(__WEBPACK_AMD_DEFINE_FACTORY__ = (h),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)),'undefined'!=typeof o&&function(){var C=o.L;h.noConflict=function(){return o.L=C,this},o.L=h}(),h.Util={extend:function extend(C){var E,B,U,O;for(B=1,U=arguments.length;B<U;B++)for(E in O=arguments[B],O)C[E]=O[E];return C},create:Object.create||function(){function C(){}return function(E){return C.prototype=E,new C}}(),bind:function bind(C,E){var B=Array.prototype.slice;if(C.bind)return C.bind.apply(C,B.call(arguments,1));var U=B.call(arguments,2);return function(){return C.apply(E,U.length?U.concat(B.call(arguments)):arguments)}},stamp:function stamp(C){return C._leaflet_id=C._leaflet_id||++h.Util.lastId,C._leaflet_id},lastId:0,throttle:function throttle(C,E,B){var U,O,Z,A;return A=function later(){U=!1,O&&(Z.apply(B,O),O=!1)},Z=function wrapperFn(){U?O=arguments:(C.apply(B,arguments),setTimeout(A,E),U=!0)},Z},wrapNum:function wrapNum(C,E,B){var U=E[1],O=E[0],Z=U-O;return C===U&&B?C:((C-O)%Z+Z)%Z+O},falseFn:function falseFn(){return!1},formatNum:function formatNum(C,E){var B=_Mathpow(10,E||5);return _Mathround(C*B)/B},trim:function trim(C){return C.trim?C.trim():C.replace(/^\s+|\s+$/g,'')},splitWords:function splitWords(C){return h.Util.trim(C).split(/\s+/)},setOptions:function setOptions(C,E){for(var B in C.hasOwnProperty('options')||(C.options=C.options?h.Util.create(C.options):{}),E)C.options[B]=E[B];return C.options},getParamString:function getParamString(C,E,B){var U=[];for(var O in C)U.push(encodeURIComponent(B?O.toUpperCase():O)+'='+encodeURIComponent(C[O]));return(E&&-1!==E.indexOf('?')?'&':'?')+U.join('&')},template:function template(C,E){return C.replace(h.Util.templateRe,function(B,U){var O=E[U];if(O===g)throw new Error('No value provided for variable '+B);else'function'==typeof O&&(O=O(E));return O})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(C){return'[object Array]'===Object.prototype.toString.call(C)},indexOf:function indexOf(C,E){for(var B=0;B<C.length;B++)if(C[B]===E)return B;return-1},emptyImageUrl:'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='},function(){function C(Z){return o['webkit'+Z]||o['moz'+Z]||o['ms'+Z]}function E(Z){var A=+new Date,I=_Mathmax(0,16-(A-B));return B=A+I,o.setTimeout(Z,I)}var B=0,U=o.requestAnimationFrame||C('RequestAnimationFrame')||E,O=o.cancelAnimationFrame||C('CancelAnimationFrame')||C('CancelRequestAnimationFrame')||function(Z){o.clearTimeout(Z)};h.Util.requestAnimFrame=function(Z,A,I){return I&&U===E?void Z.call(A):U.call(o,h.bind(Z,A))},h.Util.cancelAnimFrame=function(Z){Z&&O.call(o,Z)}}(),h.extend=h.Util.extend,h.bind=h.Util.bind,h.stamp=h.Util.stamp,h.setOptions=h.Util.setOptions,h.Class=function(){},h.Class.extend=function(C){var E=function NewClass(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},B=E.__super__=this.prototype,U=h.Util.create(B);for(var O in U.constructor=E,E.prototype=U,this)this.hasOwnProperty(O)&&'prototype'!=O&&(E[O]=this[O]);return C.statics&&(h.extend(E,C.statics),delete C.statics),C.includes&&(h.Util.extend.apply(null,[U].concat(C.includes)),delete C.includes),U.options&&(C.options=h.Util.extend(h.Util.create(U.options),C.options)),h.extend(U,C),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){B.callInitHooks&&B.callInitHooks.call(this),this._initHooksCalled=!0;for(var Z=0,A=U._initHooks.length;Z<A;Z++)U._initHooks[Z].call(this)}},E},h.Class.include=function(C){return h.extend(this.prototype,C),this},h.Class.mergeOptions=function(C){return h.extend(this.prototype.options,C),this},h.Class.addInitHook=function(C){var E=Array.prototype.slice.call(arguments,1),B='function'==typeof C?C:function(){this[C].apply(this,E)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(B),this},h.Evented=h.Class.extend({on:function on(C,E,B){if('object'===('undefined'==typeof C?'undefined':_typeof(C)))for(var U in C)this._on(U,C[U],E);else{C=h.Util.splitWords(C);for(var O=0,Z=C.length;O<Z;O++)this._on(C[O],E,B)}return this},off:function off(C,E,B){if(!C)delete this._events;else if('object'===('undefined'==typeof C?'undefined':_typeof(C)))for(var U in C)this._off(U,C[U],E);else{C=h.Util.splitWords(C);for(var O=0,Z=C.length;O<Z;O++)this._off(C[O],E,B)}return this},_on:function _on(C,E,B){this._events=this._events||{};var U=this._events[C];U||(U=[],this._events[C]=U),B===this&&(B=g);for(var O={fn:E,ctx:B},Z=U,A=0,I=Z.length;A<I;A++)if(Z[A].fn===E&&Z[A].ctx===B)return;Z.push(O)},_off:function _off(C,E,B){var U,O,Z;if(this._events&&(U=this._events[C],!!U)){if(!E){for(O=0,Z=U.length;O<Z;O++)U[O].fn=h.Util.falseFn;return void delete this._events[C]}if(B===this&&(B=g),U)for(O=0,Z=U.length;O<Z;O++){var A=U[O];if(A.ctx===B&&A.fn===E)return A.fn=h.Util.falseFn,this._firingCount&&(this._events[C]=U=U.slice()),void U.splice(O,1)}}},fire:function fire(C,E,B){if(!this.listens(C,B))return this;var U=h.Util.extend({},E,{type:C,target:this});if(this._events){var O=this._events[C];if(O){this._firingCount=this._firingCount+1||1;for(var Z=0,A=O.length,I;Z<A;Z++)I=O[Z],I.fn.call(I.ctx||this,U);this._firingCount--}}return B&&this._propagateEvent(U),this},listens:function listens(C,E){var B=this._events&&this._events[C];if(B&&B.length)return!0;if(E)for(var U in this._eventParents)if(this._eventParents[U].listens(C,E))return!0;return!1},once:function once(C,E,B){if('object'===('undefined'==typeof C?'undefined':_typeof(C))){for(var U in C)this.once(U,C[U],E);return this}var O=h.bind(function(){this.off(C,E,B).off(C,O,B)},this);return this.on(C,E,B).on(C,O,B)},addEventParent:function addEventParent(C){return this._eventParents=this._eventParents||{},this._eventParents[h.stamp(C)]=C,this},removeEventParent:function removeEventParent(C){return this._eventParents&&delete this._eventParents[h.stamp(C)],this},_propagateEvent:function _propagateEvent(C){for(var E in this._eventParents)this._eventParents[E].fire(C.type,h.extend({layer:C.target},C),!0)}});var P=h.Evented.prototype;P.addEventListener=P.on,P.removeEventListener=P.clearAllEventListeners=P.off,P.addOneTimeEventListener=P.once,P.fireEvent=P.fire,P.hasEventListeners=P.listens,h.Mixin={Events:P},function(){var C=navigator.userAgent.toLowerCase(),E=_.documentElement,B='ActiveXObject'in o,U=-1!==C.indexOf('webkit'),O=-1!==C.indexOf('phantom'),Z=-1!==C.search('android [23]'),A=-1!==C.indexOf('chrome'),I=-1!==C.indexOf('gecko')&&!U&&!o.opera&&!B,M=0===navigator.platform.indexOf('Win'),R='undefined'!=typeof orientation||-1!==C.indexOf('mobile'),N=!o.PointerEvent&&o.MSPointerEvent,W=o.PointerEvent||N,H=B&&'transition'in E.style,G='WebKitCSSMatrix'in o&&'m11'in new o.WebKitCSSMatrix&&!Z,V='MozPerspective'in E.style,q='OTransition'in E.style,K=!o.L_NO_TOUCH&&(W||'ontouchstart'in o||o.DocumentTouch&&_ instanceof o.DocumentTouch);h.Browser={ie:B,ielt9:B&&!_.addEventListener,edge:'msLaunchUri'in navigator&&!('documentMode'in _),webkit:U,gecko:I,android:-1!==C.indexOf('android'),android23:Z,chrome:A,safari:!A&&-1!==C.indexOf('safari'),win:M,ie3d:H,webkit3d:G,gecko3d:V,opera12:q,any3d:!o.L_DISABLE_3D&&(H||G||V)&&!q&&!O,mobile:R,mobileWebkit:R&&U,mobileWebkit3d:R&&G,mobileOpera:R&&o.opera,mobileGecko:R&&I,touch:!!K,msPointer:!!N,pointer:!!W,retina:1<(o.devicePixelRatio||o.screen.deviceXDPI/o.screen.logicalXDPI)}}(),h.Point=function(C,E,B){this.x=B?_Mathround(C):C,this.y=B?_Mathround(E):E},h.Point.prototype={clone:function clone(){return new h.Point(this.x,this.y)},add:function add(C){return this.clone()._add(h.point(C))},_add:function _add(C){return this.x+=C.x,this.y+=C.y,this},subtract:function subtract(C){return this.clone()._subtract(h.point(C))},_subtract:function _subtract(C){return this.x-=C.x,this.y-=C.y,this},divideBy:function divideBy(C){return this.clone()._divideBy(C)},_divideBy:function _divideBy(C){return this.x/=C,this.y/=C,this},multiplyBy:function multiplyBy(C){return this.clone()._multiplyBy(C)},_multiplyBy:function _multiplyBy(C){return this.x*=C,this.y*=C,this},scaleBy:function scaleBy(C){return new h.Point(this.x*C.x,this.y*C.y)},unscaleBy:function unscaleBy(C){return new h.Point(this.x/C.x,this.y/C.y)},round:function round(){return this.clone()._round()},_round:function _round(){return this.x=_Mathround(this.x),this.y=_Mathround(this.y),this},floor:function floor(){return this.clone()._floor()},_floor:function _floor(){return this.x=_Mathfloor(this.x),this.y=_Mathfloor(this.y),this},ceil:function ceil(){return this.clone()._ceil()},_ceil:function _ceil(){return this.x=_Mathceil(this.x),this.y=_Mathceil(this.y),this},distanceTo:function distanceTo(C){C=h.point(C);var E=C.x-this.x,B=C.y-this.y;return _Mathsqrt(E*E+B*B)},equals:function equals(C){return C=h.point(C),C.x===this.x&&C.y===this.y},contains:function contains(C){return C=h.point(C),_Mathabs(C.x)<=_Mathabs(this.x)&&_Mathabs(C.y)<=_Mathabs(this.y)},toString:function toString(){return'Point('+h.Util.formatNum(this.x)+', '+h.Util.formatNum(this.y)+')'}},h.point=function(C,E,B){return C instanceof h.Point?C:h.Util.isArray(C)?new h.Point(C[0],C[1]):C===g||null===C?C:'object'===('undefined'==typeof C?'undefined':_typeof(C))&&'x'in C&&'y'in C?new h.Point(C.x,C.y):new h.Point(C,E,B)},h.Bounds=function(C,E){if(C)for(var B=E?[C,E]:C,U=0,O=B.length;U<O;U++)this.extend(B[U])},h.Bounds.prototype={extend:function extend(C){return C=h.point(C),this.min||this.max?(this.min.x=_Mathmin(C.x,this.min.x),this.max.x=_Mathmax(C.x,this.max.x),this.min.y=_Mathmin(C.y,this.min.y),this.max.y=_Mathmax(C.y,this.max.y)):(this.min=C.clone(),this.max=C.clone()),this},getCenter:function getCenter(C){return new h.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,C)},getBottomLeft:function getBottomLeft(){return new h.Point(this.min.x,this.max.y)},getTopRight:function getTopRight(){return new h.Point(this.max.x,this.min.y)},getSize:function getSize(){return this.max.subtract(this.min)},contains:function contains(C){var E,B;return C='number'==typeof C[0]||C instanceof h.Point?h.point(C):h.bounds(C),C instanceof h.Bounds?(E=C.min,B=C.max):E=B=C,E.x>=this.min.x&&B.x<=this.max.x&&E.y>=this.min.y&&B.y<=this.max.y},intersects:function intersects(C){C=h.bounds(C);var E=this.min,B=this.max,U=C.min,O=C.max,Z=O.x>=E.x&&U.x<=B.x,A=O.y>=E.y&&U.y<=B.y;return Z&&A},overlaps:function overlaps(C){C=h.bounds(C);var E=this.min,B=this.max,U=C.min,O=C.max,Z=O.x>E.x&&U.x<B.x,A=O.y>E.y&&U.y<B.y;return Z&&A},isValid:function isValid(){return!!(this.min&&this.max)}},h.bounds=function(C,E){return!C||C instanceof h.Bounds?C:new h.Bounds(C,E)},h.Transformation=function(C,E,B,U){this._a=C,this._b=E,this._c=B,this._d=U},h.Transformation.prototype={transform:function transform(C,E){return this._transform(C.clone(),E)},_transform:function _transform(C,E){return E=E||1,C.x=E*(this._a*C.x+this._b),C.y=E*(this._c*C.y+this._d),C},untransform:function untransform(C,E){return E=E||1,new h.Point((C.x/E-this._b)/this._a,(C.y/E-this._d)/this._c)}},h.DomUtil={get:function get(C){return'string'==typeof C?_.getElementById(C):C},getStyle:function getStyle(C,E){var B=C.style[E]||C.currentStyle&&C.currentStyle[E];if((!B||'auto'===B)&&_.defaultView){var U=_.defaultView.getComputedStyle(C,null);B=U?U[E]:null}return'auto'===B?null:B},create:function create(C,E,B){var U=_.createElement(C);return U.className=E||'',B&&B.appendChild(U),U},remove:function remove(C){var E=C.parentNode;E&&E.removeChild(C)},empty:function empty(C){for(;C.firstChild;)C.removeChild(C.firstChild)},toFront:function toFront(C){C.parentNode.appendChild(C)},toBack:function toBack(C){var E=C.parentNode;E.insertBefore(C,E.firstChild)},hasClass:function hasClass(C,E){if(C.classList!==g)return C.classList.contains(E);var B=h.DomUtil.getClass(C);return 0<B.length&&new RegExp('(^|\\s)'+E+'(\\s|$)').test(B)},addClass:function addClass(C,E){if(C.classList!==g)for(var B=h.Util.splitWords(E),U=0,O=B.length;U<O;U++)C.classList.add(B[U]);else if(!h.DomUtil.hasClass(C,E)){var Z=h.DomUtil.getClass(C);h.DomUtil.setClass(C,(Z?Z+' ':'')+E)}},removeClass:function removeClass(C,E){C.classList===g?h.DomUtil.setClass(C,h.Util.trim((' '+h.DomUtil.getClass(C)+' ').replace(' '+E+' ',' '))):C.classList.remove(E)},setClass:function setClass(C,E){C.className.baseVal===g?C.className=E:C.className.baseVal=E},getClass:function getClass(C){return C.className.baseVal===g?C.className:C.className.baseVal},setOpacity:function setOpacity(C,E){'opacity'in C.style?C.style.opacity=E:'filter'in C.style&&h.DomUtil._setOpacityIE(C,E)},_setOpacityIE:function _setOpacityIE(C,E){var B=!1,U='DXImageTransform.Microsoft.Alpha';try{B=C.filters.item(U)}catch(O){if(1===E)return}E=_Mathround(100*E),B?(B.Enabled=100!==E,B.Opacity=E):C.style.filter+=' progid:'+U+'(opacity='+E+')'},testProp:function testProp(C){for(var E=_.documentElement.style,B=0;B<C.length;B++)if(C[B]in E)return C[B];return!1},setTransform:function setTransform(C,E,B){var U=E||new h.Point(0,0);C.style[h.DomUtil.TRANSFORM]=(h.Browser.ie3d?'translate('+U.x+'px,'+U.y+'px)':'translate3d('+U.x+'px,'+U.y+'px,0)')+(B?' scale('+B+')':'')},setPosition:function setPosition(C,E){C._leaflet_pos=E,h.Browser.any3d?h.DomUtil.setTransform(C,E):(C.style.left=E.x+'px',C.style.top=E.y+'px')},getPosition:function getPosition(C){return C._leaflet_pos||new h.Point(0,0)}},function(){h.DomUtil.TRANSFORM=h.DomUtil.testProp(['transform','WebkitTransform','OTransform','MozTransform','msTransform']);var C=h.DomUtil.TRANSITION=h.DomUtil.testProp(['webkitTransition','transition','OTransition','MozTransition','msTransition']);if(h.DomUtil.TRANSITION_END='webkitTransition'===C||'OTransition'===C?C+'End':'transitionend','onselectstart'in _)h.DomUtil.disableTextSelection=function(){h.DomEvent.on(o,'selectstart',h.DomEvent.preventDefault)},h.DomUtil.enableTextSelection=function(){h.DomEvent.off(o,'selectstart',h.DomEvent.preventDefault)};else{var E=h.DomUtil.testProp(['userSelect','WebkitUserSelect','OUserSelect','MozUserSelect','msUserSelect']);h.DomUtil.disableTextSelection=function(){if(E){var B=_.documentElement.style;this._userSelect=B[E],B[E]='none'}},h.DomUtil.enableTextSelection=function(){E&&(_.documentElement.style[E]=this._userSelect,delete this._userSelect)}}h.DomUtil.disableImageDrag=function(){h.DomEvent.on(o,'dragstart',h.DomEvent.preventDefault)},h.DomUtil.enableImageDrag=function(){h.DomEvent.off(o,'dragstart',h.DomEvent.preventDefault)},h.DomUtil.preventOutline=function(B){for(;-1===B.tabIndex;)B=B.parentNode;B&&B.style&&(h.DomUtil.restoreOutline(),this._outlineElement=B,this._outlineStyle=B.style.outline,B.style.outline='none',h.DomEvent.on(o,'keydown',h.DomUtil.restoreOutline,this))},h.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,h.DomEvent.off(o,'keydown',h.DomUtil.restoreOutline,this))}}(),h.LatLng=function(C,E,B){if(isNaN(C)||isNaN(E))throw new Error('Invalid LatLng object: ('+C+', '+E+')');this.lat=+C,this.lng=+E,B!==g&&(this.alt=+B)},h.LatLng.prototype={equals:function equals(C,E){if(!C)return!1;C=h.latLng(C);var B=_Mathmax(_Mathabs(this.lat-C.lat),_Mathabs(this.lng-C.lng));return B<=(E===g?1e-9:E)},toString:function toString(C){return'LatLng('+h.Util.formatNum(this.lat,C)+', '+h.Util.formatNum(this.lng,C)+')'},distanceTo:function distanceTo(C){return h.CRS.Earth.distance(this,h.latLng(C))},wrap:function wrap(){return h.CRS.Earth.wrapLatLng(this)},toBounds:function toBounds(C){var E=180*C/40075017,B=E/_Mathcos(_MathPI/180*this.lat);return h.latLngBounds([this.lat-E,this.lng-B],[this.lat+E,this.lng+B])},clone:function clone(){return new h.LatLng(this.lat,this.lng,this.alt)}},h.latLng=function(C,E,B){return C instanceof h.LatLng?C:h.Util.isArray(C)&&'object'!==_typeof(C[0])?3===C.length?new h.LatLng(C[0],C[1],C[2]):2===C.length?new h.LatLng(C[0],C[1]):null:C===g||null===C?C:'object'===('undefined'==typeof C?'undefined':_typeof(C))&&'lat'in C?new h.LatLng(C.lat,'lng'in C?C.lng:C.lon,C.alt):E===g?null:new h.LatLng(C,E,B)},h.LatLngBounds=function(C,E){if(C)for(var B=E?[C,E]:C,U=0,O=B.length;U<O;U++)this.extend(B[U])},h.LatLngBounds.prototype={extend:function extend(C){var E=this._southWest,B=this._northEast,U,O;if(C instanceof h.LatLng)U=C,O=C;else{if(!(C instanceof h.LatLngBounds))return C?this.extend(h.latLng(C)||h.latLngBounds(C)):this;if(U=C._southWest,O=C._northEast,!U||!O)return this}return E||B?(E.lat=_Mathmin(U.lat,E.lat),E.lng=_Mathmin(U.lng,E.lng),B.lat=_Mathmax(O.lat,B.lat),B.lng=_Mathmax(O.lng,B.lng)):(this._southWest=new h.LatLng(U.lat,U.lng),this._northEast=new h.LatLng(O.lat,O.lng)),this},pad:function pad(C){var E=this._southWest,B=this._northEast,U=_Mathabs(E.lat-B.lat)*C,O=_Mathabs(E.lng-B.lng)*C;return new h.LatLngBounds(new h.LatLng(E.lat-U,E.lng-O),new h.LatLng(B.lat+U,B.lng+O))},getCenter:function getCenter(){return new h.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function getSouthWest(){return this._southWest},getNorthEast:function getNorthEast(){return this._northEast},getNorthWest:function getNorthWest(){return new h.LatLng(this.getNorth(),this.getWest())},getSouthEast:function getSouthEast(){return new h.LatLng(this.getSouth(),this.getEast())},getWest:function getWest(){return this._southWest.lng},getSouth:function getSouth(){return this._southWest.lat},getEast:function getEast(){return this._northEast.lng},getNorth:function getNorth(){return this._northEast.lat},contains:function contains(C){C='number'==typeof C[0]||C instanceof h.LatLng||'lat'in C?h.latLng(C):h.latLngBounds(C);var E=this._southWest,B=this._northEast,U,O;return C instanceof h.LatLngBounds?(U=C.getSouthWest(),O=C.getNorthEast()):U=O=C,U.lat>=E.lat&&O.lat<=B.lat&&U.lng>=E.lng&&O.lng<=B.lng},intersects:function intersects(C){C=h.latLngBounds(C);var E=this._southWest,B=this._northEast,U=C.getSouthWest(),O=C.getNorthEast(),Z=O.lat>=E.lat&&U.lat<=B.lat,A=O.lng>=E.lng&&U.lng<=B.lng;return Z&&A},overlaps:function overlaps(C){C=h.latLngBounds(C);var E=this._southWest,B=this._northEast,U=C.getSouthWest(),O=C.getNorthEast(),Z=O.lat>E.lat&&U.lat<B.lat,A=O.lng>E.lng&&U.lng<B.lng;return Z&&A},toBBoxString:function toBBoxString(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(',')},equals:function equals(C){return!!C&&(C=h.latLngBounds(C),this._southWest.equals(C.getSouthWest())&&this._northEast.equals(C.getNorthEast()))},isValid:function isValid(){return!!(this._southWest&&this._northEast)}},h.latLngBounds=function(C,E){return C instanceof h.LatLngBounds?C:new h.LatLngBounds(C,E)},h.Projection={},h.Projection.LonLat={project:function project(C){return new h.Point(C.lng,C.lat)},unproject:function unproject(C){return new h.LatLng(C.y,C.x)},bounds:h.bounds([-180,-90],[180,90])},h.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function project(C){var E=_MathPI/180,B=this.MAX_LATITUDE,U=_Mathmax(_Mathmin(B,C.lat),-B),O=_Mathsin(U*E);return new h.Point(this.R*C.lng*E,this.R*_Mathlog((1+O)/(1-O))/2)},unproject:function unproject(C){var E=180/_MathPI;return new h.LatLng((2*_Mathatan(_Mathexp(C.y/this.R))-_MathPI/2)*E,C.x*E/this.R)},bounds:function(){var C=6378137*_MathPI;return h.bounds([-C,-C],[C,C])}()},h.CRS={latLngToPoint:function latLngToPoint(C,E){var B=this.projection.project(C),U=this.scale(E);return this.transformation._transform(B,U)},pointToLatLng:function pointToLatLng(C,E){var B=this.scale(E),U=this.transformation.untransform(C,B);return this.projection.unproject(U)},project:function project(C){return this.projection.project(C)},unproject:function unproject(C){return this.projection.unproject(C)},scale:function scale(C){return 256*_Mathpow(2,C)},zoom:function zoom(C){return _Mathlog(C/256)/_MathLN},getProjectedBounds:function getProjectedBounds(C){if(this.infinite)return null;var E=this.projection.bounds,B=this.scale(C),U=this.transformation.transform(E.min,B),O=this.transformation.transform(E.max,B);return h.bounds(U,O)},infinite:!1,wrapLatLng:function wrapLatLng(C){var E=this.wrapLng?h.Util.wrapNum(C.lng,this.wrapLng,!0):C.lng,B=this.wrapLat?h.Util.wrapNum(C.lat,this.wrapLat,!0):C.lat,U=C.alt;return h.latLng(B,E,U)},wrapLatLngBounds:function wrapLatLngBounds(C){var E=C.getCenter(),B=this.wrapLatLng(E),U=E.lat-B.lat,O=E.lng-B.lng;if(0==U&&0==O)return C;var Z=C.getSouthWest(),A=C.getNorthEast(),I=h.latLng({lat:Z.lat-U,lng:Z.lng-O}),M=h.latLng({lat:A.lat-U,lng:A.lng-O});return new h.LatLngBounds(I,M)}},h.CRS.Simple=h.extend({},h.CRS,{projection:h.Projection.LonLat,transformation:new h.Transformation(1,0,-1,0),scale:function scale(C){return _Mathpow(2,C)},zoom:function zoom(C){return _Mathlog(C)/_MathLN},distance:function distance(C,E){var B=E.lng-C.lng,U=E.lat-C.lat;return _Mathsqrt(B*B+U*U)},infinite:!0}),h.CRS.Earth=h.extend({},h.CRS,{wrapLng:[-180,180],R:6371000,distance:function distance(C,E){var B=_MathPI/180,U=C.lat*B,O=E.lat*B,Z=_Mathsin(U)*_Mathsin(O)+_Mathcos(U)*_Mathcos(O)*_Mathcos((E.lng-C.lng)*B);return this.R*_Mathacos(_Mathmin(Z,1))}}),h.CRS.EPSG3857=h.extend({},h.CRS.Earth,{code:'EPSG:3857',projection:h.Projection.SphericalMercator,transformation:function(){var C=0.5/(_MathPI*h.Projection.SphericalMercator.R);return new h.Transformation(C,0.5,-C,0.5)}()}),h.CRS.EPSG900913=h.extend({},h.CRS.EPSG3857,{code:'EPSG:900913'}),h.CRS.EPSG4326=h.extend({},h.CRS.Earth,{code:'EPSG:4326',projection:h.Projection.LonLat,transformation:new h.Transformation(1/180,1,-1/180,0.5)}),h.Map=h.Evented.extend({options:{crs:h.CRS.EPSG3857,center:g,zoom:g,minZoom:g,maxZoom:g,layers:[],maxBounds:g,renderer:g,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function initialize(C,E){E=h.setOptions(this,E),this._initContainer(C),this._initLayout(),this._onResize=h.bind(this._onResize,this),this._initEvents(),E.maxBounds&&this.setMaxBounds(E.maxBounds),E.zoom!==g&&(this._zoom=this._limitZoom(E.zoom)),E.center&&E.zoom!==g&&this.setView(h.latLng(E.center),E.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=h.DomUtil.TRANSITION&&h.Browser.any3d&&!h.Browser.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),h.DomEvent.on(this._proxy,h.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function setView(C,E,B){if(E=E===g?this._zoom:this._limitZoom(E),C=this._limitCenter(h.latLng(C),E,this.options.maxBounds),B=B||{},this._stop(),this._loaded&&!B.reset&&!0!==B){B.animate!==g&&(B.zoom=h.extend({animate:B.animate},B.zoom),B.pan=h.extend({animate:B.animate,duration:B.duration},B.pan));var U=this._zoom===E?this._tryAnimatedPan(C,B.pan):this._tryAnimatedZoom&&this._tryAnimatedZoom(C,E,B.zoom);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(C,E),this},setZoom:function setZoom(C,E){return this._loaded?this.setView(this.getCenter(),C,{zoom:E}):(this._zoom=C,this)},zoomIn:function zoomIn(C,E){return C=C||(h.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+C,E)},zoomOut:function zoomOut(C,E){return C=C||(h.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-C,E)},setZoomAround:function setZoomAround(C,E,B){var U=this.getZoomScale(E),O=this.getSize().divideBy(2),Z=C instanceof h.Point?C:this.latLngToContainerPoint(C),A=Z.subtract(O).multiplyBy(1-1/U),I=this.containerPointToLatLng(O.add(A));return this.setView(I,E,{zoom:B})},_getBoundsCenterZoom:function _getBoundsCenterZoom(C,E){E=E||{},C=C.getBounds?C.getBounds():h.latLngBounds(C);var B=h.point(E.paddingTopLeft||E.padding||[0,0]),U=h.point(E.paddingBottomRight||E.padding||[0,0]),O=this.getBoundsZoom(C,!1,B.add(U));O='number'==typeof E.maxZoom?_Mathmin(E.maxZoom,O):O;var Z=U.subtract(B).divideBy(2),A=this.project(C.getSouthWest(),O),I=this.project(C.getNorthEast(),O),M=this.unproject(A.add(I).divideBy(2).add(Z),O);return{center:M,zoom:O}},fitBounds:function fitBounds(C,E){if(C=h.latLngBounds(C),!C.isValid())throw new Error('Bounds are not valid.');var B=this._getBoundsCenterZoom(C,E);return this.setView(B.center,B.zoom,E)},fitWorld:function fitWorld(C){return this.fitBounds([[-90,-180],[90,180]],C)},panTo:function panTo(C,E){return this.setView(C,this._zoom,{pan:E})},panBy:function panBy(C,E){if(C=h.point(C).round(),E=E||{},!C.x&&!C.y)return this.fire('moveend');if(!0!==E.animate&&!this.getSize().contains(C))return this._resetView(this.unproject(this.project(this.getCenter()).add(C)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new h.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),E.noMoveStart||this.fire('movestart'),!1!==E.animate){h.DomUtil.addClass(this._mapPane,'leaflet-pan-anim');var B=this._getMapPanePos().subtract(C).round();this._panAnim.run(this._mapPane,B,E.duration||0.25,E.easeLinearity)}else this._rawPanBy(C),this.fire('move').fire('moveend');return this},flyTo:function flyTo(C,E,B){function U(oe){var ae=oe?-1:1,re=oe?K:q,_e=(K*K-q*q+ae*X*X*J*J)/(2*re*X*J),me=_Mathsqrt(_e*_e+1)-_e,pe=1e-9>me?-18:_Mathlog(me);return pe}function O(oe){return(_Mathexp(oe)-_Mathexp(-oe))/2}function Z(oe){return(_Mathexp(oe)+_Mathexp(-oe))/2}function A(oe){return O(oe)/Z(oe)}function I(oe){return q*(Z(Q)/Z(Q+Y*oe))}function M(oe){return q*(Z(Q)*A(Q+Y*oe)-O(Q))/X}function R(oe){return 1-_Mathpow(1-oe,1.5)}function N(){var oe=(Date.now()-$)/te,ae=R(oe)*ee;1>=oe?(this._flyToFrame=h.Util.requestAnimFrame(N,this),this._move(this.unproject(W.add(H.subtract(W).multiplyBy(M(ae)/J)),V),this.getScaleZoom(q/I(ae),V),{flyTo:!0})):this._move(C,E)._moveEnd(!0)}if(B=B||{},!1===B.animate||!h.Browser.any3d)return this.setView(C,E,B);this._stop();var W=this.project(this.getCenter()),H=this.project(C),G=this.getSize(),V=this._zoom;C=h.latLng(C),E=E===g?V:E;var q=_Mathmax(G.x,G.y),K=q*this.getZoomScale(V,E),J=H.distanceTo(W)||1,Y=1.42,X=Y*Y,Q=U(0),$=Date.now(),ee=(U(1)-Q)/Y,te=B.duration?1e3*B.duration:0.8*(1e3*ee);return this._moveStart(!0),N.call(this),this},flyToBounds:function flyToBounds(C,E){var B=this._getBoundsCenterZoom(C,E);return this.flyTo(B.center,B.zoom,E)},setMaxBounds:function setMaxBounds(C){return(C=h.latLngBounds(C),!C.isValid())?(this.options.maxBounds=null,this.off('moveend',this._panInsideMaxBounds)):(this.options.maxBounds&&this.off('moveend',this._panInsideMaxBounds),this.options.maxBounds=C,this._loaded&&this._panInsideMaxBounds(),this.on('moveend',this._panInsideMaxBounds))},setMinZoom:function setMinZoom(C){return this.options.minZoom=C,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(C):this},setMaxZoom:function setMaxZoom(C){return this.options.maxZoom=C,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(C):this},panInsideBounds:function panInsideBounds(C,E){this._enforcingBounds=!0;var B=this.getCenter(),U=this._limitCenter(B,this._zoom,h.latLngBounds(C));return B.equals(U)||this.panTo(U,E),this._enforcingBounds=!1,this},invalidateSize:function invalidateSize(C){if(!this._loaded)return this;C=h.extend({animate:!1,pan:!0},!0===C?{animate:!0}:C);var E=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var B=this.getSize(),U=E.divideBy(2).round(),O=B.divideBy(2).round(),Z=U.subtract(O);return Z.x||Z.y?(C.animate&&C.pan?this.panBy(Z):(C.pan&&this._rawPanBy(Z),this.fire('move'),C.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h.bind(this.fire,this,'moveend'),200)):this.fire('moveend')),this.fire('resize',{oldSize:E,newSize:B})):this},stop:function stop(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire('viewreset'),this._stop()},locate:function locate(C){if(C=this._locateOptions=h.extend({timeout:1e4,watch:!1},C),!('geolocation'in navigator))return this._handleGeolocationError({code:0,message:'Geolocation not supported.'}),this;var E=h.bind(this._handleGeolocationResponse,this),B=h.bind(this._handleGeolocationError,this);return C.watch?this._locationWatchId=navigator.geolocation.watchPosition(E,B,C):navigator.geolocation.getCurrentPosition(E,B,C),this},stopLocate:function stopLocate(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function _handleGeolocationError(C){var E=C.code,B=C.message||(1===E?'permission denied':2===E?'position unavailable':'timeout');this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire('locationerror',{code:E,message:'Geolocation error: '+B+'.'})},_handleGeolocationResponse:function _handleGeolocationResponse(C){var E=C.coords.latitude,B=C.coords.longitude,U=new h.LatLng(E,B),O=U.toBounds(C.coords.accuracy),Z=this._locateOptions;if(Z.setView){var A=this.getBoundsZoom(O);this.setView(U,Z.maxZoom?_Mathmin(A,Z.maxZoom):A)}var I={latlng:U,bounds:O,timestamp:C.timestamp};for(var M in C.coords)'number'==typeof C.coords[M]&&(I[M]=C.coords[M]);this.fire('locationfound',I)},addHandler:function addHandler(C,E){if(!E)return this;var B=this[C]=new E(this);return this._handlers.push(B),this.options[C]&&B.enable(),this},remove:function remove(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error('Map container is being reused by another instance');try{delete this._container._leaflet_id,delete this._containerId}catch(E){this._container._leaflet_id=g,this._containerId=g}for(var C in h.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire('unload'),this._layers)this._layers[C].remove();return this},createPane:function createPane(C,E){var B='leaflet-pane'+(C?' leaflet-'+C.replace('Pane','')+'-pane':''),U=h.DomUtil.create('div',B,E||this._mapPane);return C&&(this._panes[C]=U),U},getCenter:function getCenter(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function getZoom(){return this._zoom},getBounds:function getBounds(){var C=this.getPixelBounds(),E=this.unproject(C.getBottomLeft()),B=this.unproject(C.getTopRight());return new h.LatLngBounds(E,B)},getMinZoom:function getMinZoom(){return this.options.minZoom===g?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function getMaxZoom(){return this.options.maxZoom===g?this._layersMaxZoom===g?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function getBoundsZoom(C,E,B){C=h.latLngBounds(C),B=h.point(B||[0,0]);var U=this.getZoom()||0,O=this.getMinZoom(),Z=this.getMaxZoom(),A=C.getNorthWest(),I=C.getSouthEast(),M=this.getSize().subtract(B),R=h.bounds(this.project(I,U),this.project(A,U)).getSize(),N=h.Browser.any3d?this.options.zoomSnap:1,W=_Mathmin(M.x/R.x,M.y/R.y);return U=this.getScaleZoom(W,U),N&&(U=_Mathround(U/(N/100))*(N/100),U=E?_Mathceil(U/N)*N:_Mathfloor(U/N)*N),_Mathmax(O,_Mathmin(Z,U))},getSize:function getSize(){return(!this._size||this._sizeChanged)&&(this._size=new h.Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function getPixelBounds(C,E){var B=this._getTopLeftPoint(C,E);return new h.Bounds(B,B.add(this.getSize()))},getPixelOrigin:function getPixelOrigin(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function getPixelWorldBounds(C){return this.options.crs.getProjectedBounds(C===g?this.getZoom():C)},getPane:function getPane(C){return'string'==typeof C?this._panes[C]:C},getPanes:function getPanes(){return this._panes},getContainer:function getContainer(){return this._container},getZoomScale:function getZoomScale(C,E){var B=this.options.crs;return E=E===g?this._zoom:E,B.scale(C)/B.scale(E)},getScaleZoom:function getScaleZoom(C,E){var B=this.options.crs;E=E===g?this._zoom:E;var U=B.zoom(C*B.scale(E));return isNaN(U)?Infinity:U},project:function project(C,E){return E=E===g?this._zoom:E,this.options.crs.latLngToPoint(h.latLng(C),E)},unproject:function unproject(C,E){return E=E===g?this._zoom:E,this.options.crs.pointToLatLng(h.point(C),E)},layerPointToLatLng:function layerPointToLatLng(C){var E=h.point(C).add(this.getPixelOrigin());return this.unproject(E)},latLngToLayerPoint:function latLngToLayerPoint(C){var E=this.project(h.latLng(C))._round();return E._subtract(this.getPixelOrigin())},wrapLatLng:function wrapLatLng(C){return this.options.crs.wrapLatLng(h.latLng(C))},wrapLatLngBounds:function wrapLatLngBounds(C){return this.options.crs.wrapLatLngBounds(h.latLngBounds(C))},distance:function distance(C,E){return this.options.crs.distance(h.latLng(C),h.latLng(E))},containerPointToLayerPoint:function containerPointToLayerPoint(C){return h.point(C).subtract(this._getMapPanePos())},layerPointToContainerPoint:function layerPointToContainerPoint(C){return h.point(C).add(this._getMapPanePos())},containerPointToLatLng:function containerPointToLatLng(C){var E=this.containerPointToLayerPoint(h.point(C));return this.layerPointToLatLng(E)},latLngToContainerPoint:function latLngToContainerPoint(C){return this.layerPointToContainerPoint(this.latLngToLayerPoint(h.latLng(C)))},mouseEventToContainerPoint:function mouseEventToContainerPoint(C){return h.DomEvent.getMousePosition(C,this._container)},mouseEventToLayerPoint:function mouseEventToLayerPoint(C){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(C))},mouseEventToLatLng:function mouseEventToLatLng(C){return this.layerPointToLatLng(this.mouseEventToLayerPoint(C))},_initContainer:function _initContainer(C){var E=this._container=h.DomUtil.get(C);if(!E)throw new Error('Map container not found.');else if(E._leaflet_id)throw new Error('Map container is already initialized.');h.DomEvent.addListener(E,'scroll',this._onScroll,this),this._containerId=h.Util.stamp(E)},_initLayout:function _initLayout(){var C=this._container;this._fadeAnimated=this.options.fadeAnimation&&h.Browser.any3d,h.DomUtil.addClass(C,'leaflet-container'+(h.Browser.touch?' leaflet-touch':'')+(h.Browser.retina?' leaflet-retina':'')+(h.Browser.ielt9?' leaflet-oldie':'')+(h.Browser.safari?' leaflet-safari':'')+(this._fadeAnimated?' leaflet-fade-anim':''));var E=h.DomUtil.getStyle(C,'position');'absolute'!==E&&'relative'!==E&&'fixed'!==E&&(C.style.position='relative'),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function _initPanes(){var C=this._panes={};this._paneRenderers={},this._mapPane=this.createPane('mapPane',this._container),h.DomUtil.setPosition(this._mapPane,new h.Point(0,0)),this.createPane('tilePane'),this.createPane('shadowPane'),this.createPane('overlayPane'),this.createPane('markerPane'),this.createPane('tooltipPane'),this.createPane('popupPane'),this.options.markerZoomAnimation||(h.DomUtil.addClass(C.markerPane,'leaflet-zoom-hide'),h.DomUtil.addClass(C.shadowPane,'leaflet-zoom-hide'))},_resetView:function _resetView(C,E){h.DomUtil.setPosition(this._mapPane,new h.Point(0,0));var B=!this._loaded;this._loaded=!0,E=this._limitZoom(E),this.fire('viewprereset');var U=this._zoom!==E;this._moveStart(U)._move(C,E)._moveEnd(U),this.fire('viewreset'),B&&this.fire('load')},_moveStart:function _moveStart(C){return C&&this.fire('zoomstart'),this.fire('movestart')},_move:function _move(C,E,B){E===g&&(E=this._zoom);var U=this._zoom!==E;return this._zoom=E,this._lastCenter=C,this._pixelOrigin=this._getNewPixelOrigin(C),(U||B&&B.pinch)&&this.fire('zoom',B),this.fire('move',B)},_moveEnd:function _moveEnd(C){return C&&this.fire('zoomend'),this.fire('moveend')},_stop:function _stop(){return h.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function _rawPanBy(C){h.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(C))},_getZoomSpan:function _getZoomSpan(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function _panInsideMaxBounds(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function _checkIfLoaded(){if(!this._loaded)throw new Error('Set map center and zoom first.')},_initEvents:function _initEvents(C){if(h.DomEvent){this._targets={},this._targets[h.stamp(this._container)]=this;var E=C?'off':'on';h.DomEvent[E](this._container,'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress',this._handleDOMEvent,this),this.options.trackResize&&h.DomEvent[E](o,'resize',this._onResize,this),h.Browser.any3d&&this.options.transform3DLimit&&this[E]('moveend',this._onMoveEnd)}},_onResize:function _onResize(){h.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=h.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function _onScroll(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function _onMoveEnd(){var C=this._getMapPanePos();_Mathmax(_Mathabs(C.x),_Mathabs(C.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function _findEventTargets(C,E){for(var B=[],O='mouseout'===E||'mouseover'===E,Z=C.target||C.srcElement,A=!1,U;Z;){if(U=this._targets[h.stamp(Z)],U&&('click'===E||'preclick'===E)&&!C._simulated&&this._draggableMoved(U)){A=!0;break}if(U&&U.listens(E,!0)){if(O&&!h.DomEvent._isExternalTarget(Z,C))break;if(B.push(U),O)break}if(Z===this._container)break;Z=Z.parentNode}return B.length||A||O||!h.DomEvent._isExternalTarget(Z,C)||(B=[this]),B},_handleDOMEvent:function _handleDOMEvent(C){if(this._loaded&&!h.DomEvent._skipped(C)){var E='keypress'===C.type&&13===C.keyCode?'click':C.type;'mousedown'===E&&h.DomUtil.preventOutline(C.target||C.srcElement),this._fireDOMEvent(C,E)}},_fireDOMEvent:function _fireDOMEvent(C,E,B){if('click'===C.type){var U=h.Util.extend({},C);U.type='preclick',this._fireDOMEvent(U,U.type,B)}if(!C._stopped&&(B=(B||[]).concat(this._findEventTargets(C,E)),!!B.length)){var O=B[0];'contextmenu'===E&&O.listens(E,!0)&&h.DomEvent.preventDefault(C);var Z={originalEvent:C};if('keypress'!==C.type){var A=O instanceof h.Marker;Z.containerPoint=A?this.latLngToContainerPoint(O.getLatLng()):this.mouseEventToContainerPoint(C),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=A?O.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(var I=0;I<B.length;I++)if(B[I].fire(E,Z,!0),Z.originalEvent._stopped||B[I].options.nonBubblingEvents&&-1!==h.Util.indexOf(B[I].options.nonBubblingEvents,E))return}},_draggableMoved:function _draggableMoved(C){return C=C.dragging&&C.dragging.enabled()?C:this,C.dragging&&C.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function _clearHandlers(){for(var C=0,E=this._handlers.length;C<E;C++)this._handlers[C].disable()},whenReady:function whenReady(C,E){return this._loaded?C.call(E||this,{target:this}):this.on('load',C,E),this},_getMapPanePos:function _getMapPanePos(){return h.DomUtil.getPosition(this._mapPane)||new h.Point(0,0)},_moved:function _moved(){var C=this._getMapPanePos();return C&&!C.equals([0,0])},_getTopLeftPoint:function _getTopLeftPoint(C,E){var B=C&&E!==g?this._getNewPixelOrigin(C,E):this.getPixelOrigin();return B.subtract(this._getMapPanePos())},_getNewPixelOrigin:function _getNewPixelOrigin(C,E){var B=this.getSize()._divideBy(2);return this.project(C,E)._subtract(B)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function _latLngToNewLayerPoint(C,E,B){var U=this._getNewPixelOrigin(B,E);return this.project(C,E)._subtract(U)},_latLngBoundsToNewLayerBounds:function _latLngBoundsToNewLayerBounds(C,E,B){var U=this._getNewPixelOrigin(B,E);return h.bounds([this.project(C.getSouthWest(),E)._subtract(U),this.project(C.getNorthWest(),E)._subtract(U),this.project(C.getSouthEast(),E)._subtract(U),this.project(C.getNorthEast(),E)._subtract(U)])},_getCenterLayerPoint:function _getCenterLayerPoint(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function _getCenterOffset(C){return this.latLngToLayerPoint(C).subtract(this._getCenterLayerPoint())},_limitCenter:function _limitCenter(C,E,B){if(!B)return C;var U=this.project(C,E),O=this.getSize().divideBy(2),Z=new h.Bounds(U.subtract(O),U.add(O)),A=this._getBoundsOffset(Z,B,E);return A.round().equals([0,0])?C:this.unproject(U.add(A),E)},_limitOffset:function _limitOffset(C,E){if(!E)return C;var B=this.getPixelBounds(),U=new h.Bounds(B.min.add(C),B.max.add(C));return C.add(this._getBoundsOffset(U,E))},_getBoundsOffset:function _getBoundsOffset(C,E,B){var U=h.bounds(this.project(E.getNorthEast(),B),this.project(E.getSouthWest(),B)),O=U.min.subtract(C.min),Z=U.max.subtract(C.max),A=this._rebound(O.x,-Z.x),I=this._rebound(O.y,-Z.y);return new h.Point(A,I)},_rebound:function _rebound(C,E){return 0<C+E?_Mathround(C-E)/2:_Mathmax(0,_Mathceil(C))-_Mathmax(0,_Mathfloor(E))},_limitZoom:function _limitZoom(C){var E=this.getMinZoom(),B=this.getMaxZoom(),U=h.Browser.any3d?this.options.zoomSnap:1;return U&&(C=_Mathround(C/U)*U),_Mathmax(E,_Mathmin(B,C))},_onPanTransitionStep:function _onPanTransitionStep(){this.fire('move')},_onPanTransitionEnd:function _onPanTransitionEnd(){h.DomUtil.removeClass(this._mapPane,'leaflet-pan-anim'),this.fire('moveend')},_tryAnimatedPan:function _tryAnimatedPan(C,E){var B=this._getCenterOffset(C)._floor();return(!0===(E&&E.animate)||this.getSize().contains(B))&&(this.panBy(B,E),!0)},_createAnimProxy:function _createAnimProxy(){var C=this._proxy=h.DomUtil.create('div','leaflet-proxy leaflet-zoom-animated');this._panes.mapPane.appendChild(C),this.on('zoomanim',function(E){var B=h.DomUtil.TRANSFORM,U=C.style[B];h.DomUtil.setTransform(C,this.project(E.center,E.zoom),this.getZoomScale(E.zoom,1)),U===C.style[B]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on('load moveend',function(){var E=this.getCenter(),B=this.getZoom();h.DomUtil.setTransform(C,this.project(E,B),this.getZoomScale(B,1))},this)},_catchTransitionEnd:function _catchTransitionEnd(C){this._animatingZoom&&0<=C.propertyName.indexOf('transform')&&this._onZoomTransitionEnd()},_nothingToAnimate:function _nothingToAnimate(){return!this._container.getElementsByClassName('leaflet-zoom-animated').length},_tryAnimatedZoom:function _tryAnimatedZoom(C,E,B){if(this._animatingZoom)return!0;if(B=B||{},!this._zoomAnimated||!1===B.animate||this._nothingToAnimate()||_Mathabs(E-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(E),O=this._getCenterOffset(C)._divideBy(1-1/U);return(!0===B.animate||this.getSize().contains(O))&&(h.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(C,E,!0)},this),!0)},_animateZoom:function _animateZoom(C,E,B,U){B&&(this._animatingZoom=!0,this._animateToCenter=C,this._animateToZoom=E,h.DomUtil.addClass(this._mapPane,'leaflet-zoom-anim')),this.fire('zoomanim',{center:C,zoom:E,noUpdate:U}),setTimeout(h.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function _onZoomTransitionEnd(){this._animatingZoom&&(h.DomUtil.removeClass(this._mapPane,'leaflet-zoom-anim'),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),h.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}),h.map=function(C,E){return new h.Map(C,E)},h.Layer=h.Evented.extend({options:{pane:'overlayPane',nonBubblingEvents:[],attribution:null},addTo:function addTo(C){return C.addLayer(this),this},remove:function remove(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function removeFrom(C){return C&&C.removeLayer(this),this},getPane:function getPane(C){return this._map.getPane(C?this.options[C]||C:this.options.pane)},addInteractiveTarget:function addInteractiveTarget(C){return this._map._targets[h.stamp(C)]=this,this},removeInteractiveTarget:function removeInteractiveTarget(C){return delete this._map._targets[h.stamp(C)],this},getAttribution:function getAttribution(){return this.options.attribution},_layerAdd:function _layerAdd(C){var E=C.target;if(E.hasLayer(this)){if(this._map=E,this._zoomAnimated=E._zoomAnimated,this.getEvents){var B=this.getEvents();E.on(B,this),this.once('remove',function(){E.off(B,this)},this)}this.onAdd(E),this.getAttribution&&E.attributionControl&&E.attributionControl.addAttribution(this.getAttribution()),this.fire('add'),E.fire('layeradd',{layer:this})}}}),h.Map.include({addLayer:function addLayer(C){var E=h.stamp(C);return this._layers[E]?this:(this._layers[E]=C,C._mapToAdd=this,C.beforeAdd&&C.beforeAdd(this),this.whenReady(C._layerAdd,C),this)},removeLayer:function removeLayer(C){var E=h.stamp(C);return this._layers[E]?(this._loaded&&C.onRemove(this),C.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(C.getAttribution()),delete this._layers[E],this._loaded&&(this.fire('layerremove',{layer:C}),C.fire('remove')),C._map=C._mapToAdd=null,this):this},hasLayer:function hasLayer(C){return!!C&&h.stamp(C)in this._layers},eachLayer:function eachLayer(C,E){for(var B in this._layers)C.call(E,this._layers[B]);return this},_addLayers:function _addLayers(C){C=C?h.Util.isArray(C)?C:[C]:[];for(var E=0,B=C.length;E<B;E++)this.addLayer(C[E])},_addZoomLimit:function _addZoomLimit(C){(isNaN(C.options.maxZoom)||!isNaN(C.options.minZoom))&&(this._zoomBoundLayers[h.stamp(C)]=C,this._updateZoomLevels())},_removeZoomLimit:function _removeZoomLimit(C){var E=h.stamp(C);this._zoomBoundLayers[E]&&(delete this._zoomBoundLayers[E],this._updateZoomLevels())},_updateZoomLevels:function _updateZoomLevels(){var C=Infinity,E=-Infinity,B=this._getZoomSpan();for(var U in this._zoomBoundLayers){var O=this._zoomBoundLayers[U].options;C=O.minZoom===g?C:_Mathmin(C,O.minZoom),E=O.maxZoom===g?E:_Mathmax(E,O.maxZoom)}this._layersMaxZoom=E===-Infinity?g:E,this._layersMinZoom=C===Infinity?g:C,B!==this._getZoomSpan()&&this.fire('zoomlevelschange'),this.options.maxZoom===g&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===g&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var T='_leaflet_events';h.DomEvent={on:function on(C,E,B,U){if('object'===('undefined'==typeof E?'undefined':_typeof(E)))for(var O in E)this._on(C,O,E[O],B);else{E=h.Util.splitWords(E);for(var Z=0,A=E.length;Z<A;Z++)this._on(C,E[Z],B,U)}return this},off:function off(C,E,B,U){if('object'===('undefined'==typeof E?'undefined':_typeof(E)))for(var O in E)this._off(C,O,E[O],B);else{E=h.Util.splitWords(E);for(var Z=0,A=E.length;Z<A;Z++)this._off(C,E[Z],B,U)}return this},_on:function _on(C,E,B,U){var O=E+h.stamp(B)+(U?'_'+h.stamp(U):'');if(C[T]&&C[T][O])return this;var Z=function handler(I){return B.call(U||C,I||o.event)},A=Z;return h.Browser.pointer&&0===E.indexOf('touch')?this.addPointerListener(C,E,Z,O):h.Browser.touch&&'dblclick'===E&&this.addDoubleTapListener&&!(h.Browser.pointer&&h.Browser.chrome)?this.addDoubleTapListener(C,Z,O):'addEventListener'in C?'mousewheel'===E?C.addEventListener('onwheel'in C?'wheel':'mousewheel',Z,!1):'mouseenter'===E||'mouseleave'===E?(Z=function handler(I){I=I||o.event,h.DomEvent._isExternalTarget(C,I)&&A(I)},C.addEventListener('mouseenter'===E?'mouseover':'mouseout',Z,!1)):('click'===E&&h.Browser.android&&(Z=function handler(I){return h.DomEvent._filterClick(I,A)}),C.addEventListener(E,Z,!1)):'attachEvent'in C&&C.attachEvent('on'+E,Z),C[T]=C[T]||{},C[T][O]=Z,this},_off:function _off(C,E,B,U){var O=E+h.stamp(B)+(U?'_'+h.stamp(U):''),Z=C[T]&&C[T][O];return Z?(h.Browser.pointer&&0===E.indexOf('touch')?this.removePointerListener(C,E,O):h.Browser.touch&&'dblclick'===E&&this.removeDoubleTapListener?this.removeDoubleTapListener(C,O):'removeEventListener'in C?'mousewheel'===E?C.removeEventListener('onwheel'in C?'wheel':'mousewheel',Z,!1):C.removeEventListener('mouseenter'===E?'mouseover':'mouseleave'===E?'mouseout':E,Z,!1):'detachEvent'in C&&C.detachEvent('on'+E,Z),C[T][O]=null,this):this},stopPropagation:function stopPropagation(C){return C.stopPropagation?C.stopPropagation():C.originalEvent?C.originalEvent._stopped=!0:C.cancelBubble=!0,h.DomEvent._skipped(C),this},disableScrollPropagation:function disableScrollPropagation(C){return h.DomEvent.on(C,'mousewheel',h.DomEvent.stopPropagation)},disableClickPropagation:function disableClickPropagation(C){var E=h.DomEvent.stopPropagation;return h.DomEvent.on(C,h.Draggable.START.join(' '),E),h.DomEvent.on(C,{click:h.DomEvent._fakeStop,dblclick:E})},preventDefault:function preventDefault(C){return C.preventDefault?C.preventDefault():C.returnValue=!1,this},stop:function stop(C){return h.DomEvent.preventDefault(C).stopPropagation(C)},getMousePosition:function getMousePosition(C,E){if(!E)return new h.Point(C.clientX,C.clientY);var B=E.getBoundingClientRect();return new h.Point(C.clientX-B.left-E.clientLeft,C.clientY-B.top-E.clientTop)},_wheelPxFactor:h.Browser.win&&h.Browser.chrome?2:h.Browser.gecko?o.devicePixelRatio:1,getWheelDelta:function getWheelDelta(C){return h.Browser.edge?C.wheelDeltaY/2:C.deltaY&&0===C.deltaMode?-C.deltaY/h.DomEvent._wheelPxFactor:C.deltaY&&1===C.deltaMode?20*-C.deltaY:C.deltaY&&2===C.deltaMode?60*-C.deltaY:C.deltaX||C.deltaZ?0:C.wheelDelta?(C.wheelDeltaY||C.wheelDelta)/2:C.detail&&32765>_Mathabs(C.detail)?20*-C.detail:C.detail?60*(C.detail/-32765):0},_skipEvents:{},_fakeStop:function _fakeStop(C){h.DomEvent._skipEvents[C.type]=!0},_skipped:function _skipped(C){var E=this._skipEvents[C.type];return this._skipEvents[C.type]=!1,E},_isExternalTarget:function _isExternalTarget(C,E){var B=E.relatedTarget;if(!B)return!0;try{for(;B&&B!==C;)B=B.parentNode}catch(U){return!1}return B!==C},_filterClick:function _filterClick(C,E){var B=C.timeStamp||C.originalEvent&&C.originalEvent.timeStamp,U=h.DomEvent._lastClick&&B-h.DomEvent._lastClick;return U&&100<U&&500>U||C.target._simulatedClick&&!C._simulated?void h.DomEvent.stop(C):void(h.DomEvent._lastClick=B,E(C))}},h.DomEvent.addListener=h.DomEvent.on,h.DomEvent.removeListener=h.DomEvent.off,h.PosAnimation=h.Evented.extend({run:function run(C,E,B,U){this.stop(),this._el=C,this._inProgress=!0,this._duration=B||0.25,this._easeOutPower=1/_Mathmax(U||0.5,0.2),this._startPos=h.DomUtil.getPosition(C),this._offset=E.subtract(this._startPos),this._startTime=+new Date,this.fire('start'),this._animate()},stop:function stop(){this._inProgress&&(this._step(!0),this._complete())},_animate:function _animate(){this._animId=h.Util.requestAnimFrame(this._animate,this),this._step()},_step:function _step(C){var E=+new Date-this._startTime,B=1e3*this._duration;E<B?this._runFrame(this._easeOut(E/B),C):(this._runFrame(1),this._complete())},_runFrame:function _runFrame(C,E){var B=this._startPos.add(this._offset.multiplyBy(C));E&&B._round(),h.DomUtil.setPosition(this._el,B),this.fire('step')},_complete:function _complete(){h.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire('end')},_easeOut:function _easeOut(C){return 1-_Mathpow(1-C,this._easeOutPower)}}),h.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:h.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function project(C){var E=_MathPI/180,B=this.R,U=C.lat*E,O=this.R_MINOR/B,Z=_Mathsqrt(1-O*O),A=Z*_Mathsin(U),I=Math.tan(_MathPI/4-U/2)/_Mathpow((1-A)/(1+A),Z/2);return U=-B*_Mathlog(_Mathmax(I,1e-10)),new h.Point(C.lng*E*B,U)},unproject:function unproject(C){for(var E=180/_MathPI,B=this.R,U=this.R_MINOR/B,O=_Mathsqrt(1-U*U),Z=_Mathexp(-C.y/B),A=_MathPI/2-2*_Mathatan(Z),I=0,M=0.1,R;15>I&&1e-7<_Mathabs(M);I++)R=O*_Mathsin(A),R=_Mathpow((1-R)/(1+R),O/2),M=_MathPI/2-2*_Mathatan(Z*R)-A,A+=M;return new h.LatLng(A*E,C.x*E/B)}},h.CRS.EPSG3395=h.extend({},h.CRS.Earth,{code:'EPSG:3395',projection:h.Projection.Mercator,transformation:function(){var C=0.5/(_MathPI*h.Projection.Mercator.R);return new h.Transformation(C,0.5,-C,0.5)}()}),h.GridLayer=h.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:h.Browser.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:g,noWrap:!1,pane:'tilePane',className:'',keepBuffer:2},initialize:function initialize(C){h.setOptions(this,C)},onAdd:function onAdd(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function beforeAdd(C){C._addZoomLimit(this)},onRemove:function onRemove(C){this._removeAllTiles(),h.DomUtil.remove(this._container),C._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function bringToFront(){return this._map&&(h.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function bringToBack(){return this._map&&(h.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function getContainer(){return this._container},setOpacity:function setOpacity(C){return this.options.opacity=C,this._updateOpacity(),this},setZIndex:function setZIndex(C){return this.options.zIndex=C,this._updateZIndex(),this},isLoading:function isLoading(){return this._loading},redraw:function redraw(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function getEvents(){var C={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(!this._onMove&&(this._onMove=h.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),C.move=this._onMove),this._zoomAnimated&&(C.zoomanim=this._animateZoom),C},createTile:function createTile(){return _.createElement('div')},getTileSize:function getTileSize(){var C=this.options.tileSize;return C instanceof h.Point?C:new h.Point(C,C)},_updateZIndex:function _updateZIndex(){this._container&&this.options.zIndex!==g&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function _setAutoZIndex(C){for(var E=this.getPane().children,B=-C(-Infinity,Infinity),U=0,O=E.length,Z;U<O;U++)Z=E[U].style.zIndex,E[U]!==this._container&&Z&&(B=C(B,+Z));isFinite(B)&&(this.options.zIndex=B+C(-1,1),this._updateZIndex())},_updateOpacity:function _updateOpacity(){if(this._map&&!h.Browser.ielt9){h.DomUtil.setOpacity(this._container,this.options.opacity);var C=+new Date,E=!1,B=!1;for(var U in this._tiles){var O=this._tiles[U];if(O.current&&O.loaded){var Z=_Mathmin(1,(C-O.loaded)/200);h.DomUtil.setOpacity(O.el,Z),1>Z?E=!0:(O.active&&(B=!0),O.active=!0)}}B&&!this._noPrune&&this._pruneTiles(),E&&(h.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=h.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function _initContainer(){this._container||(this._container=h.DomUtil.create('div','leaflet-layer '+(this.options.className||'')),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function _updateLevels(){var C=this._tileZoom,E=this.options.maxZoom;if(C===g)return g;for(var B in this._levels)this._levels[B].el.children.length||B===C?this._levels[B].el.style.zIndex=E-_Mathabs(C-B):(h.DomUtil.remove(this._levels[B].el),this._removeTilesAtZoom(B),delete this._levels[B]);var U=this._levels[C],O=this._map;return U||(U=this._levels[C]={},U.el=h.DomUtil.create('div','leaflet-tile-container leaflet-zoom-animated',this._container),U.el.style.zIndex=E,U.origin=O.project(O.unproject(O.getPixelOrigin()),C).round(),U.zoom=C,this._setZoomTransform(U,O.getCenter(),O.getZoom()),h.Util.falseFn(U.el.offsetWidth)),this._level=U,U},_pruneTiles:function _pruneTiles(){if(this._map){var B=this._map.getZoom(),C,E;if(B>this.options.maxZoom||B<this.options.minZoom)return void this._removeAllTiles();for(C in this._tiles)E=this._tiles[C],E.retain=E.current;for(C in this._tiles)if(E=this._tiles[C],E.current&&!E.active){var U=E.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(C in this._tiles)this._tiles[C].retain||this._removeTile(C)}},_removeTilesAtZoom:function _removeTilesAtZoom(C){for(var E in this._tiles)this._tiles[E].coords.z===C&&this._removeTile(E)},_removeAllTiles:function _removeAllTiles(){for(var C in this._tiles)this._removeTile(C)},_invalidateAll:function _invalidateAll(){for(var C in this._levels)h.DomUtil.remove(this._levels[C].el),delete this._levels[C];this._removeAllTiles(),this._tileZoom=null},_retainParent:function _retainParent(C,E,B,U){var O=_Mathfloor(C/2),Z=_Mathfloor(E/2),A=B-1,I=new h.Point(+O,+Z);I.z=+A;var M=this._tileCoordsToKey(I),R=this._tiles[M];return R&&R.active?(R.retain=!0,!0):(R&&R.loaded&&(R.retain=!0),!!(A>U)&&this._retainParent(O,Z,A,U))},_retainChildren:function _retainChildren(C,E,B,U){for(var O=2*C;O<2*C+2;O++)for(var Z=2*E,A;Z<2*E+2;Z++){A=new h.Point(O,Z),A.z=B+1;var I=this._tileCoordsToKey(A),M=this._tiles[I];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);B+1<U&&this._retainChildren(O,Z,B+1,U)}},_resetView:function _resetView(C){var E=C&&(C.pinch||C.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),E,E)},_animateZoom:function _animateZoom(C){this._setView(C.center,C.zoom,!0,C.noUpdate)},_setView:function _setView(C,E,B,U){var O=_Mathround(E);(this.options.maxZoom!==g&&O>this.options.maxZoom||this.options.minZoom!==g&&O<this.options.minZoom)&&(O=g);var Z=this.options.updateWhenZooming&&O!==this._tileZoom;(!U||Z)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==g&&this._update(C),!B&&this._pruneTiles(),this._noPrune=!!B),this._setZoomTransforms(C,E)},_setZoomTransforms:function _setZoomTransforms(C,E){for(var B in this._levels)this._setZoomTransform(this._levels[B],C,E)},_setZoomTransform:function _setZoomTransform(C,E,B){var U=this._map.getZoomScale(B,C.zoom),O=C.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(E,B)).round();h.Browser.any3d?h.DomUtil.setTransform(C.el,O,U):h.DomUtil.setPosition(C.el,O)},_resetGrid:function _resetGrid(){var C=this._map,E=C.options.crs,B=this._tileSize=this.getTileSize(),U=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=E.wrapLng&&!this.options.noWrap&&[_Mathfloor(C.project([0,E.wrapLng[0]],U).x/B.x),_Mathceil(C.project([0,E.wrapLng[1]],U).x/B.y)],this._wrapY=E.wrapLat&&!this.options.noWrap&&[_Mathfloor(C.project([E.wrapLat[0],0],U).y/B.x),_Mathceil(C.project([E.wrapLat[1],0],U).y/B.y)]},_onMoveEnd:function _onMoveEnd(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function _getTiledPixelBounds(C){var E=this._map,B=E._animatingZoom?_Mathmax(E._animateToZoom,E.getZoom()):E.getZoom(),U=E.getZoomScale(B,this._tileZoom),O=E.project(C,this._tileZoom).floor(),Z=E.getSize().divideBy(2*U);return new h.Bounds(O.subtract(Z),O.add(Z))},_update:function _update(C){var E=this._map;if(E){var B=E.getZoom();if(C===g&&(C=E.getCenter()),this._tileZoom!==g){var U=this._getTiledPixelBounds(C),O=this._pxBoundsToTileRange(U),Z=O.getCenter(),A=[],I=this.options.keepBuffer,M=new h.Bounds(O.getBottomLeft().subtract([I,-I]),O.getTopRight().add([I,-I]));for(var R in this._tiles){var N=this._tiles[R].coords;N.z===this._tileZoom&&M.contains(h.point(N.x,N.y))||(this._tiles[R].current=!1)}if(1<_Mathabs(B-this._tileZoom))return void this._setView(C,B);for(var W=O.min.y;W<=O.max.y;W++)for(var H=O.min.x,G;H<=O.max.x;H++)if(G=new h.Point(H,W),G.z=this._tileZoom,!!this._isValidTile(G)){var V=this._tiles[this._tileCoordsToKey(G)];V?V.current=!0:A.push(G)}if(A.sort(function(K,J){return K.distanceTo(Z)-J.distanceTo(Z)}),0!==A.length){this._loading||(this._loading=!0,this.fire('loading'));var q=_.createDocumentFragment();for(H=0;H<A.length;H++)this._addTile(A[H],q);this._level.el.appendChild(q)}}}},_isValidTile:function _isValidTile(C){var E=this._map.options.crs;if(!E.infinite){var B=this._globalTileRange;if(!E.wrapLng&&(C.x<B.min.x||C.x>B.max.x)||!E.wrapLat&&(C.y<B.min.y||C.y>B.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(C);return h.latLngBounds(this.options.bounds).overlaps(U)},_keyToBounds:function _keyToBounds(C){return this._tileCoordsToBounds(this._keyToTileCoords(C))},_tileCoordsToBounds:function _tileCoordsToBounds(C){var E=this._map,B=this.getTileSize(),U=C.scaleBy(B),O=U.add(B),Z=E.unproject(U,C.z),A=E.unproject(O,C.z),I=new h.LatLngBounds(Z,A);return this.options.noWrap||E.wrapLatLngBounds(I),I},_tileCoordsToKey:function _tileCoordsToKey(C){return C.x+':'+C.y+':'+C.z},_keyToTileCoords:function _keyToTileCoords(C){var E=C.split(':'),B=new h.Point(+E[0],+E[1]);return B.z=+E[2],B},_removeTile:function _removeTile(C){var E=this._tiles[C];E&&(h.DomUtil.remove(E.el),delete this._tiles[C],this.fire('tileunload',{tile:E.el,coords:this._keyToTileCoords(C)}))},_initTile:function _initTile(C){h.DomUtil.addClass(C,'leaflet-tile');var E=this.getTileSize();C.style.width=E.x+'px',C.style.height=E.y+'px',C.onselectstart=h.Util.falseFn,C.onmousemove=h.Util.falseFn,h.Browser.ielt9&&1>this.options.opacity&&h.DomUtil.setOpacity(C,this.options.opacity),h.Browser.android&&!h.Browser.android23&&(C.style.WebkitBackfaceVisibility='hidden')},_addTile:function _addTile(C,E){var B=this._getTilePos(C),U=this._tileCoordsToKey(C),O=this.createTile(this._wrapCoords(C),h.bind(this._tileReady,this,C));this._initTile(O),2>this.createTile.length&&h.Util.requestAnimFrame(h.bind(this._tileReady,this,C,null,O)),h.DomUtil.setPosition(O,B),this._tiles[U]={el:O,coords:C,current:!0},E.appendChild(O),this.fire('tileloadstart',{tile:O,coords:C})},_tileReady:function _tileReady(C,E,B){if(this._map){E&&this.fire('tileerror',{error:E,tile:B,coords:C});var U=this._tileCoordsToKey(C);B=this._tiles[U],B&&(B.loaded=+new Date,this._map._fadeAnimated?(h.DomUtil.setOpacity(B.el,0),h.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=h.Util.requestAnimFrame(this._updateOpacity,this)):(B.active=!0,this._pruneTiles()),!E&&(h.DomUtil.addClass(B.el,'leaflet-tile-loaded'),this.fire('tileload',{tile:B.el,coords:C})),this._noTilesToLoad()&&(this._loading=!1,this.fire('load'),h.Browser.ielt9||!this._map._fadeAnimated?h.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(h.bind(this._pruneTiles,this),250)))}},_getTilePos:function _getTilePos(C){return C.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function _wrapCoords(C){var E=new h.Point(this._wrapX?h.Util.wrapNum(C.x,this._wrapX):C.x,this._wrapY?h.Util.wrapNum(C.y,this._wrapY):C.y);return E.z=C.z,E},_pxBoundsToTileRange:function _pxBoundsToTileRange(C){var E=this.getTileSize();return new h.Bounds(C.min.unscaleBy(E).floor(),C.max.unscaleBy(E).ceil().subtract([1,1]))},_noTilesToLoad:function _noTilesToLoad(){for(var C in this._tiles)if(!this._tiles[C].loaded)return!1;return!0}}),h.gridLayer=function(C){return new h.GridLayer(C)},h.TileLayer=h.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:'abc',errorTileUrl:'',zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function initialize(C,E){this._url=C,E=h.setOptions(this,E),E.detectRetina&&h.Browser.retina&&0<E.maxZoom&&(E.tileSize=_Mathfloor(E.tileSize/2),E.zoomReverse?(E.zoomOffset--,E.minZoom++):(E.zoomOffset++,E.maxZoom--),E.minZoom=_Mathmax(0,E.minZoom)),'string'==typeof E.subdomains&&(E.subdomains=E.subdomains.split('')),h.Browser.android||this.on('tileunload',this._onTileRemove)},setUrl:function setUrl(C,E){return this._url=C,E||this.redraw(),this},createTile:function createTile(C,E){var B=_.createElement('img');return h.DomEvent.on(B,'load',h.bind(this._tileOnLoad,this,E,B)),h.DomEvent.on(B,'error',h.bind(this._tileOnError,this,E,B)),this.options.crossOrigin&&(B.crossOrigin=''),B.alt='',B.setAttribute('role','presentation'),B.src=this.getTileUrl(C),B},getTileUrl:function getTileUrl(C){var E={r:h.Browser.retina?'@2x':'',s:this._getSubdomain(C),x:C.x,y:C.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var B=this._globalTileRange.max.y-C.y;this.options.tms&&(E.y=B),E['-y']=B}return h.Util.template(this._url,h.extend(E,this.options))},_tileOnLoad:function _tileOnLoad(C,E){h.Browser.ielt9?setTimeout(h.bind(C,this,null,E),0):C(null,E)},_tileOnError:function _tileOnError(C,E,B){var U=this.options.errorTileUrl;U&&E.src!==U&&(E.src=U),C(B,E)},getTileSize:function getTileSize(){var C=this._map,E=h.GridLayer.prototype.getTileSize.call(this),B=this._tileZoom+this.options.zoomOffset,U=this.options.minNativeZoom,O=this.options.maxNativeZoom;return null!==U&&B<U?E.divideBy(C.getZoomScale(U,B)).round():null!==O&&B>O?E.divideBy(C.getZoomScale(O,B)).round():E},_onTileRemove:function _onTileRemove(C){C.tile.onload=null},_getZoomForUrl:function _getZoomForUrl(){var C=this._tileZoom,E=this.options.maxZoom,B=this.options.zoomReverse,U=this.options.zoomOffset,O=this.options.minNativeZoom,Z=this.options.maxNativeZoom;return B&&(C=E-C),C+=U,null!==O&&C<O?O:null!==Z&&C>Z?Z:C},_getSubdomain:function _getSubdomain(C){var E=_Mathabs(C.x+C.y)%this.options.subdomains.length;return this.options.subdomains[E]},_abortLoading:function _abortLoading(){var C,E;for(C in this._tiles)this._tiles[C].coords.z!==this._tileZoom&&(E=this._tiles[C].el,E.onload=h.Util.falseFn,E.onerror=h.Util.falseFn,E.complete||(E.src=h.Util.emptyImageUrl,h.DomUtil.remove(E)))}}),h.tileLayer=function(C,E){return new h.TileLayer(C,E)},h.TileLayer.WMS=h.TileLayer.extend({defaultWmsParams:{service:'WMS',request:'GetMap',layers:'',styles:'',format:'image/jpeg',transparent:!1,version:'1.1.1'},options:{crs:null,uppercase:!1},initialize:function initialize(C,E){this._url=C;var B=h.extend({},this.defaultWmsParams);for(var U in E)U in this.options||(B[U]=E[U]);E=h.setOptions(this,E),B.width=B.height=E.tileSize*(E.detectRetina&&h.Browser.retina?2:1),this.wmsParams=B},onAdd:function onAdd(C){this._crs=this.options.crs||C.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var E=1.3<=this._wmsVersion?'crs':'srs';this.wmsParams[E]=this._crs.code,h.TileLayer.prototype.onAdd.call(this,C)},getTileUrl:function getTileUrl(C){var E=this._tileCoordsToBounds(C),B=this._crs.project(E.getNorthWest()),U=this._crs.project(E.getSouthEast()),O=(1.3<=this._wmsVersion&&this._crs===h.CRS.EPSG4326?[U.y,B.x,B.y,U.x]:[B.x,U.y,U.x,B.y]).join(','),Z=h.TileLayer.prototype.getTileUrl.call(this,C);return Z+h.Util.getParamString(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?'&BBOX=':'&bbox=')+O},setParams:function setParams(C,E){return h.extend(this.wmsParams,C),E||this.redraw(),this}}),h.tileLayer.wms=function(C,E){return new h.TileLayer.WMS(C,E)},h.ImageOverlay=h.Layer.extend({options:{opacity:1,alt:'',interactive:!1,crossOrigin:!1},initialize:function initialize(C,E,B){this._url=C,this._bounds=h.latLngBounds(E),h.setOptions(this,B)},onAdd:function onAdd(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity()),this.options.interactive&&(h.DomUtil.addClass(this._image,'leaflet-interactive'),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function onRemove(){h.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function setOpacity(C){return this.options.opacity=C,this._image&&this._updateOpacity(),this},setStyle:function setStyle(C){return C.opacity&&this.setOpacity(C.opacity),this},bringToFront:function bringToFront(){return this._map&&h.DomUtil.toFront(this._image),this},bringToBack:function bringToBack(){return this._map&&h.DomUtil.toBack(this._image),this},setUrl:function setUrl(C){return this._url=C,this._image&&(this._image.src=C),this},setBounds:function setBounds(C){return this._bounds=C,this._map&&this._reset(),this},getEvents:function getEvents(){var C={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(C.zoomanim=this._animateZoom),C},getBounds:function getBounds(){return this._bounds},getElement:function getElement(){return this._image},_initImage:function _initImage(){var C=this._image=h.DomUtil.create('img','leaflet-image-layer '+(this._zoomAnimated?'leaflet-zoom-animated':''));C.onselectstart=h.Util.falseFn,C.onmousemove=h.Util.falseFn,C.onload=h.bind(this.fire,this,'load'),this.options.crossOrigin&&(C.crossOrigin=''),C.src=this._url,C.alt=this.options.alt},_animateZoom:function _animateZoom(C){var E=this._map.getZoomScale(C.zoom),B=this._map._latLngBoundsToNewLayerBounds(this._bounds,C.zoom,C.center).min;h.DomUtil.setTransform(this._image,B,E)},_reset:function _reset(){var C=this._image,E=new h.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),B=E.getSize();h.DomUtil.setPosition(C,E.min),C.style.width=B.x+'px',C.style.height=B.y+'px'},_updateOpacity:function _updateOpacity(){h.DomUtil.setOpacity(this._image,this.options.opacity)}}),h.imageOverlay=function(C,E,B){return new h.ImageOverlay(C,E,B)},h.Icon=h.Class.extend({initialize:function initialize(C){h.setOptions(this,C)},createIcon:function createIcon(C){return this._createIcon('icon',C)},createShadow:function createShadow(C){return this._createIcon('shadow',C)},_createIcon:function _createIcon(C,E){var B=this._getIconUrl(C);if(!B){if('icon'===C)throw new Error('iconUrl not set in Icon options (see the docs).');return null}var U=this._createImg(B,E&&'IMG'===E.tagName?E:null);return this._setIconStyles(U,C),U},_setIconStyles:function _setIconStyles(C,E){var B=this.options,U=B[E+'Size'];'number'==typeof U&&(U=[U,U]);var O=h.point(U),Z=h.point('shadow'===E&&B.shadowAnchor||B.iconAnchor||O&&O.divideBy(2,!0));C.className='leaflet-marker-'+E+' '+(B.className||''),Z&&(C.style.marginLeft=-Z.x+'px',C.style.marginTop=-Z.y+'px'),O&&(C.style.width=O.x+'px',C.style.height=O.y+'px')},_createImg:function _createImg(C,E){return E=E||_.createElement('img'),E.src=C,E},_getIconUrl:function _getIconUrl(C){return h.Browser.retina&&this.options[C+'RetinaUrl']||this.options[C+'Url']}}),h.icon=function(C){return new h.Icon(C)},h.Icon.Default=h.Icon.extend({options:{iconUrl:'marker-icon.png',iconRetinaUrl:'marker-icon-2x.png',shadowUrl:'marker-shadow.png',iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function _getIconUrl(C){return h.Icon.Default.imagePath||(h.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||h.Icon.Default.imagePath)+h.Icon.prototype._getIconUrl.call(this,C)},_detectIconPath:function _detectIconPath(){var C=h.DomUtil.create('div','leaflet-default-icon-path',_.body),E=h.DomUtil.getStyle(C,'background-image')||h.DomUtil.getStyle(C,'backgroundImage');return _.body.removeChild(C),0===E.indexOf('url')?E.replace(/^url\([\"\']?/,'').replace(/marker-icon\.png[\"\']?\)$/,''):''}}),h.Marker=h.Layer.extend({options:{icon:new h.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:'',alt:'',zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:'markerPane',nonBubblingEvents:['click','dblclick','mouseover','mouseout','contextmenu']},initialize:function initialize(C,E){h.setOptions(this,E),this._latlng=h.latLng(C)},onAdd:function onAdd(C){this._zoomAnimated=this._zoomAnimated&&C.options.markerZoomAnimation,this._zoomAnimated&&C.on('zoomanim',this._animateZoom,this),this._initIcon(),this.update()},onRemove:function onRemove(C){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&C.off('zoomanim',this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function getEvents(){return{zoom:this.update,viewreset:this.update}},getLatLng:function getLatLng(){return this._latlng},setLatLng:function setLatLng(C){var E=this._latlng;return this._latlng=h.latLng(C),this.update(),this.fire('move',{oldLatLng:E,latlng:this._latlng})},setZIndexOffset:function setZIndexOffset(C){return this.options.zIndexOffset=C,this.update()},setIcon:function setIcon(C){return this.options.icon=C,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function getElement(){return this._icon},update:function update(){if(this._icon){var C=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(C)}return this},_initIcon:function _initIcon(){var C=this.options,E='leaflet-zoom-'+(this._zoomAnimated?'animated':'hide'),B=C.icon.createIcon(this._icon),U=!1;B!==this._icon&&(this._icon&&this._removeIcon(),U=!0,C.title&&(B.title=C.title),C.alt&&(B.alt=C.alt)),h.DomUtil.addClass(B,E),C.keyboard&&(B.tabIndex='0'),this._icon=B,C.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var O=C.icon.createShadow(this._shadow),Z=!1;O!==this._shadow&&(this._removeShadow(),Z=!0),O&&(h.DomUtil.addClass(O,E),O.alt=''),this._shadow=O,1>C.opacity&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&Z&&this.getPane('shadowPane').appendChild(this._shadow)},_removeIcon:function _removeIcon(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),h.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function _removeShadow(){this._shadow&&h.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function _setPos(C){h.DomUtil.setPosition(this._icon,C),this._shadow&&h.DomUtil.setPosition(this._shadow,C),this._zIndex=C.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function _updateZIndex(C){this._icon.style.zIndex=this._zIndex+C},_animateZoom:function _animateZoom(C){var E=this._map._latLngToNewLayerPoint(this._latlng,C.zoom,C.center).round();this._setPos(E)},_initInteraction:function _initInteraction(){if(this.options.interactive&&(h.DomUtil.addClass(this._icon,'leaflet-interactive'),this.addInteractiveTarget(this._icon),h.Handler.MarkerDrag)){var C=this.options.draggable;this.dragging&&(C=this.dragging.enabled(),this.dragging.disable()),this.dragging=new h.Handler.MarkerDrag(this),C&&this.dragging.enable()}},setOpacity:function setOpacity(C){return this.options.opacity=C,this._map&&this._updateOpacity(),this},_updateOpacity:function _updateOpacity(){var C=this.options.opacity;h.DomUtil.setOpacity(this._icon,C),this._shadow&&h.DomUtil.setOpacity(this._shadow,C)},_bringToFront:function _bringToFront(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function _resetZIndex(){this._updateZIndex(0)},_getPopupAnchor:function _getPopupAnchor(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function _getTooltipAnchor(){return this.options.icon.options.tooltipAnchor||[0,0]}}),h.marker=function(C,E){return new h.Marker(C,E)},h.DivIcon=h.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:'leaflet-div-icon'},createIcon:function createIcon(C){var E=C&&'DIV'===C.tagName?C:_.createElement('div'),B=this.options;if(E.innerHTML=!1===B.html?'':B.html,B.bgPos){var U=h.point(B.bgPos);E.style.backgroundPosition=-U.x+'px '+-U.y+'px'}return this._setIconStyles(E,'icon'),E},createShadow:function createShadow(){return null}}),h.divIcon=function(C){return new h.DivIcon(C)},h.DivOverlay=h.Layer.extend({options:{offset:[0,7],className:'',pane:'popupPane'},initialize:function initialize(C,E){h.setOptions(this,C),this._source=E},onAdd:function onAdd(C){this._zoomAnimated=C._zoomAnimated,this._container||this._initLayout(),C._fadeAnimated&&h.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),C._fadeAnimated&&h.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function onRemove(C){C._fadeAnimated?(h.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(h.bind(h.DomUtil.remove,h.DomUtil,this._container),200)):h.DomUtil.remove(this._container)},getLatLng:function getLatLng(){return this._latlng},setLatLng:function setLatLng(C){return this._latlng=h.latLng(C),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function getContent(){return this._content},setContent:function setContent(C){return this._content=C,this.update(),this},getElement:function getElement(){return this._container},update:function update(){this._map&&(this._container.style.visibility='hidden',this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility='',this._adjustPan())},getEvents:function getEvents(){var C={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(C.zoomanim=this._animateZoom),C},isOpen:function isOpen(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function bringToFront(){return this._map&&h.DomUtil.toFront(this._container),this},bringToBack:function bringToBack(){return this._map&&h.DomUtil.toBack(this._container),this},_updateContent:function _updateContent(){if(this._content){var C=this._contentNode,E='function'==typeof this._content?this._content(this._source||this):this._content;if('string'==typeof E)C.innerHTML=E;else{for(;C.hasChildNodes();)C.removeChild(C.firstChild);C.appendChild(E)}this.fire('contentupdate')}},_updatePosition:function _updatePosition(){if(this._map){var C=this._map.latLngToLayerPoint(this._latlng),E=h.point(this.options.offset),B=this._getAnchor();this._zoomAnimated?h.DomUtil.setPosition(this._container,C.add(B)):E=E.add(C).add(B);var U=this._containerBottom=-E.y,O=this._containerLeft=-_Mathround(this._containerWidth/2)+E.x;this._container.style.bottom=U+'px',this._container.style.left=O+'px'}},_getAnchor:function _getAnchor(){return[0,0]}}),h.Popup=h.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:''},openOn:function openOn(C){return C.openPopup(this),this},onAdd:function onAdd(C){h.DivOverlay.prototype.onAdd.call(this,C),C.fire('popupopen',{popup:this}),this._source&&(this._source.fire('popupopen',{popup:this},!0),!(this._source instanceof h.Path)&&this._source.on('preclick',h.DomEvent.stopPropagation))},onRemove:function onRemove(C){h.DivOverlay.prototype.onRemove.call(this,C),C.fire('popupclose',{popup:this}),this._source&&(this._source.fire('popupclose',{popup:this},!0),!(this._source instanceof h.Path)&&this._source.off('preclick',h.DomEvent.stopPropagation))},getEvents:function getEvents(){var C=h.DivOverlay.prototype.getEvents.call(this);return('closeOnClick'in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(C.preclick=this._close),this.options.keepInView&&(C.moveend=this._adjustPan),C},_close:function _close(){this._map&&this._map.closePopup(this)},_initLayout:function _initLayout(){var C='leaflet-popup',E=this._container=h.DomUtil.create('div',C+' '+(this.options.className||'')+' leaflet-zoom-animated');if(this.options.closeButton){var B=this._closeButton=h.DomUtil.create('a',C+'-close-button',E);B.href='#close',B.innerHTML='&#215;',h.DomEvent.on(B,'click',this._onCloseButtonClick,this)}var U=this._wrapper=h.DomUtil.create('div',C+'-content-wrapper',E);this._contentNode=h.DomUtil.create('div',C+'-content',U),h.DomEvent.disableClickPropagation(U).disableScrollPropagation(this._contentNode).on(U,'contextmenu',h.DomEvent.stopPropagation),this._tipContainer=h.DomUtil.create('div',C+'-tip-container',E),this._tip=h.DomUtil.create('div',C+'-tip',this._tipContainer)},_updateLayout:function _updateLayout(){var C=this._contentNode,E=C.style;E.width='',E.whiteSpace='nowrap';var B=C.offsetWidth;B=_Mathmin(B,this.options.maxWidth),B=_Mathmax(B,this.options.minWidth),E.width=B+1+'px',E.whiteSpace='',E.height='';var U=C.offsetHeight,O=this.options.maxHeight,Z='leaflet-popup-scrolled';O&&U>O?(E.height=O+'px',h.DomUtil.addClass(C,Z)):h.DomUtil.removeClass(C,Z),this._containerWidth=this._container.offsetWidth},_animateZoom:function _animateZoom(C){var E=this._map._latLngToNewLayerPoint(this._latlng,C.zoom,C.center),B=this._getAnchor();h.DomUtil.setPosition(this._container,E.add(B))},_adjustPan:function _adjustPan(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var C=this._map,E=parseInt(h.DomUtil.getStyle(this._container,'marginBottom'),10)||0,B=this._container.offsetHeight+E,U=this._containerWidth,O=new h.Point(this._containerLeft,-B-this._containerBottom);O._add(h.DomUtil.getPosition(this._container));var Z=C.layerPointToContainerPoint(O),A=h.point(this.options.autoPanPadding),I=h.point(this.options.autoPanPaddingTopLeft||A),M=h.point(this.options.autoPanPaddingBottomRight||A),R=C.getSize(),N=0,W=0;Z.x+U+M.x>R.x&&(N=Z.x+U-R.x+M.x),0>Z.x-N-I.x&&(N=Z.x-I.x),Z.y+B+M.y>R.y&&(W=Z.y+B-R.y+M.y),0>Z.y-W-I.y&&(W=Z.y-I.y),(N||W)&&C.fire('autopanstart').panBy([N,W])}},_onCloseButtonClick:function _onCloseButtonClick(C){this._close(),h.DomEvent.stop(C)},_getAnchor:function _getAnchor(){return h.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),h.popup=function(C,E){return new h.Popup(C,E)},h.Map.mergeOptions({closePopupOnClick:!0}),h.Map.include({openPopup:function openPopup(C,E,B){return(C instanceof h.Popup||(C=new h.Popup(B).setContent(C)),E&&C.setLatLng(E),this.hasLayer(C))?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=C,this.addLayer(C))},closePopup:function closePopup(C){return C&&C!==this._popup||(C=this._popup,this._popup=null),C&&this.removeLayer(C),this}}),h.Layer.include({bindPopup:function bindPopup(C,E){return C instanceof h.Popup?(h.setOptions(C,E),this._popup=C,C._source=this):((!this._popup||E)&&(this._popup=new h.Popup(E,this)),this._popup.setContent(C)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function unbindPopup(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function openPopup(C,E){if(C instanceof h.Layer||(E=C,C=this),C instanceof h.FeatureGroup)for(var B in this._layers){C=this._layers[B];break}return E||(E=C.getCenter?C.getCenter():C.getLatLng()),this._popup&&this._map&&(this._popup._source=C,this._popup.update(),this._map.openPopup(this._popup,E)),this},closePopup:function closePopup(){return this._popup&&this._popup._close(),this},togglePopup:function togglePopup(C){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(C)),this},isPopupOpen:function isPopupOpen(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function setPopupContent(C){return this._popup&&this._popup.setContent(C),this},getPopup:function getPopup(){return this._popup},_openPopup:function _openPopup(C){var E=C.layer||C.target;if(this._popup)return this._map?(h.DomEvent.stop(C),E instanceof h.Path?void this.openPopup(C.layer||C.target,C.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===E?this.closePopup():this.openPopup(E,C.latlng))):void 0},_movePopup:function _movePopup(C){this._popup.setLatLng(C.latlng)}}),h.Tooltip=h.DivOverlay.extend({options:{pane:'tooltipPane',offset:[0,0],direction:'auto',permanent:!1,sticky:!1,interactive:!1,opacity:0.9},onAdd:function onAdd(C){h.DivOverlay.prototype.onAdd.call(this,C),this.setOpacity(this.options.opacity),C.fire('tooltipopen',{tooltip:this}),this._source&&this._source.fire('tooltipopen',{tooltip:this},!0)},onRemove:function onRemove(C){h.DivOverlay.prototype.onRemove.call(this,C),C.fire('tooltipclose',{tooltip:this}),this._source&&this._source.fire('tooltipclose',{tooltip:this},!0)},getEvents:function getEvents(){var C=h.DivOverlay.prototype.getEvents.call(this);return h.Browser.touch&&!this.options.permanent&&(C.preclick=this._close),C},_close:function _close(){this._map&&this._map.closeTooltip(this)},_initLayout:function _initLayout(){var E='leaflet-tooltip'+' '+(this.options.className||'')+' leaflet-zoom-'+(this._zoomAnimated?'animated':'hide');this._contentNode=this._container=h.DomUtil.create('div',E)},_updateLayout:function _updateLayout(){},_adjustPan:function _adjustPan(){},_setPosition:function _setPosition(C){var E=this._map,B=this._container,U=E.latLngToContainerPoint(E.getCenter()),O=E.layerPointToContainerPoint(C),Z=this.options.direction,A=B.offsetWidth,I=B.offsetHeight,M=h.point(this.options.offset),R=this._getAnchor();'top'===Z?C=C.add(h.point(-A/2+M.x,-I+M.y+R.y,!0)):'bottom'===Z?C=C.subtract(h.point(A/2-M.x,-M.y,!0)):'center'===Z?C=C.subtract(h.point(A/2+M.x,I/2-R.y+M.y,!0)):'right'===Z||'auto'===Z&&O.x<U.x?(Z='right',C=C.add(h.point(M.x+R.x,R.y-I/2+M.y,!0))):(Z='left',C=C.subtract(h.point(A+R.x-M.x,I/2-R.y-M.y,!0))),h.DomUtil.removeClass(B,'leaflet-tooltip-right'),h.DomUtil.removeClass(B,'leaflet-tooltip-left'),h.DomUtil.removeClass(B,'leaflet-tooltip-top'),h.DomUtil.removeClass(B,'leaflet-tooltip-bottom'),h.DomUtil.addClass(B,'leaflet-tooltip-'+Z),h.DomUtil.setPosition(B,C)},_updatePosition:function _updatePosition(){var C=this._map.latLngToLayerPoint(this._latlng);this._setPosition(C)},setOpacity:function setOpacity(C){this.options.opacity=C,this._container&&h.DomUtil.setOpacity(this._container,C)},_animateZoom:function _animateZoom(C){var E=this._map._latLngToNewLayerPoint(this._latlng,C.zoom,C.center);this._setPosition(E)},_getAnchor:function _getAnchor(){return h.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),h.tooltip=function(C,E){return new h.Tooltip(C,E)},h.Map.include({openTooltip:function openTooltip(C,E,B){return C instanceof h.Tooltip||(C=new h.Tooltip(B).setContent(C)),E&&C.setLatLng(E),this.hasLayer(C)?this:this.addLayer(C)},closeTooltip:function closeTooltip(C){return C&&this.removeLayer(C),this}}),h.Layer.include({bindTooltip:function bindTooltip(C,E){return C instanceof h.Tooltip?(h.setOptions(C,E),this._tooltip=C,C._source=this):((!this._tooltip||E)&&(this._tooltip=h.tooltip(E,this)),this._tooltip.setContent(C)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function unbindTooltip(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function _initTooltipInteractions(C){if(C||!this._tooltipHandlersAdded){var E=C?'off':'on',B={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?B.add=this._openTooltip:(B.mouseover=this._openTooltip,B.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(B.mousemove=this._moveTooltip),h.Browser.touch&&(B.click=this._openTooltip)),this[E](B),this._tooltipHandlersAdded=!C}},openTooltip:function openTooltip(C,E){if(C instanceof h.Layer||(E=C,C=this),C instanceof h.FeatureGroup)for(var B in this._layers){C=this._layers[B];break}return E||(E=C.getCenter?C.getCenter():C.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=C,this._tooltip.update(),this._map.openTooltip(this._tooltip,E),this._tooltip.options.interactive&&this._tooltip._container&&(h.DomUtil.addClass(this._tooltip._container,'leaflet-clickable'),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function closeTooltip(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(h.DomUtil.removeClass(this._tooltip._container,'leaflet-clickable'),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function toggleTooltip(C){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(C)),this},isTooltipOpen:function isTooltipOpen(){return this._tooltip.isOpen()},setTooltipContent:function setTooltipContent(C){return this._tooltip&&this._tooltip.setContent(C),this},getTooltip:function getTooltip(){return this._tooltip},_openTooltip:function _openTooltip(C){var E=C.layer||C.target;this._tooltip&&this._map&&this.openTooltip(E,this._tooltip.options.sticky?C.latlng:g)},_moveTooltip:function _moveTooltip(C){var E=C.latlng,B,U;this._tooltip.options.sticky&&C.originalEvent&&(B=this._map.mouseEventToContainerPoint(C.originalEvent),U=this._map.containerPointToLayerPoint(B),E=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(E)}}),h.LayerGroup=h.Layer.extend({initialize:function initialize(C){this._layers={};var E,B;if(C)for(E=0,B=C.length;E<B;E++)this.addLayer(C[E])},addLayer:function addLayer(C){var E=this.getLayerId(C);return this._layers[E]=C,this._map&&this._map.addLayer(C),this},removeLayer:function removeLayer(C){var E=C in this._layers?C:this.getLayerId(C);return this._map&&this._layers[E]&&this._map.removeLayer(this._layers[E]),delete this._layers[E],this},hasLayer:function hasLayer(C){return!!C&&(C in this._layers||this.getLayerId(C)in this._layers)},clearLayers:function clearLayers(){for(var C in this._layers)this.removeLayer(this._layers[C]);return this},invoke:function invoke(C){var E=Array.prototype.slice.call(arguments,1),B,U;for(B in this._layers)U=this._layers[B],U[C]&&U[C].apply(U,E);return this},onAdd:function onAdd(C){for(var E in this._layers)C.addLayer(this._layers[E])},onRemove:function onRemove(C){for(var E in this._layers)C.removeLayer(this._layers[E])},eachLayer:function eachLayer(C,E){for(var B in this._layers)C.call(E,this._layers[B]);return this},getLayer:function getLayer(C){return this._layers[C]},getLayers:function getLayers(){var C=[];for(var E in this._layers)C.push(this._layers[E]);return C},setZIndex:function setZIndex(C){return this.invoke('setZIndex',C)},getLayerId:function getLayerId(C){return h.stamp(C)}}),h.layerGroup=function(C){return new h.LayerGroup(C)},h.FeatureGroup=h.LayerGroup.extend({addLayer:function addLayer(C){return this.hasLayer(C)?this:(C.addEventParent(this),h.LayerGroup.prototype.addLayer.call(this,C),this.fire('layeradd',{layer:C}))},removeLayer:function removeLayer(C){return this.hasLayer(C)?(C in this._layers&&(C=this._layers[C]),C.removeEventParent(this),h.LayerGroup.prototype.removeLayer.call(this,C),this.fire('layerremove',{layer:C})):this},setStyle:function setStyle(C){return this.invoke('setStyle',C)},bringToFront:function bringToFront(){return this.invoke('bringToFront')},bringToBack:function bringToBack(){return this.invoke('bringToBack')},getBounds:function getBounds(){var C=new h.LatLngBounds;for(var E in this._layers){var B=this._layers[E];C.extend(B.getBounds?B.getBounds():B.getLatLng())}return C}}),h.featureGroup=function(C){return new h.FeatureGroup(C)},h.Renderer=h.Layer.extend({options:{padding:0.1},initialize:function initialize(C){h.setOptions(this,C),h.stamp(this),this._layers=this._layers||{}},onAdd:function onAdd(){this._container||(this._initContainer(),this._zoomAnimated&&h.DomUtil.addClass(this._container,'leaflet-zoom-animated')),this.getPane().appendChild(this._container),this._update(),this.on('update',this._updatePaths,this)},onRemove:function onRemove(){h.DomUtil.remove(this._container),this.off('update',this._updatePaths,this)},getEvents:function getEvents(){var C={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(C.zoomanim=this._onAnimZoom),C},_onAnimZoom:function _onAnimZoom(C){this._updateTransform(C.center,C.zoom)},_onZoom:function _onZoom(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function _updateTransform(C,E){var B=this._map.getZoomScale(E,this._zoom),U=h.DomUtil.getPosition(this._container),O=this._map.getSize().multiplyBy(0.5+this.options.padding),Z=this._map.project(this._center,E),A=this._map.project(C,E),I=A.subtract(Z),M=O.multiplyBy(-B).add(U).add(O).subtract(I);h.Browser.any3d?h.DomUtil.setTransform(this._container,M,B):h.DomUtil.setPosition(this._container,M)},_reset:function _reset(){for(var C in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[C]._reset()},_onZoomEnd:function _onZoomEnd(){for(var C in this._layers)this._layers[C]._project()},_updatePaths:function _updatePaths(){for(var C in this._layers)this._layers[C]._update()},_update:function _update(){var C=this.options.padding,E=this._map.getSize(),B=this._map.containerPointToLayerPoint(E.multiplyBy(-C)).round();this._bounds=new h.Bounds(B,B.add(E.multiplyBy(1+2*C)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),h.Map.include({getRenderer:function getRenderer(C){var E=C.options.renderer||this._getPaneRenderer(C.options.pane)||this.options.renderer||this._renderer;return E||(E=this._renderer=this.options.preferCanvas&&h.canvas()||h.svg()),this.hasLayer(E)||this.addLayer(E),E},_getPaneRenderer:function _getPaneRenderer(C){if('overlayPane'===C||C===g)return!1;var E=this._paneRenderers[C];return E===g&&(E=h.SVG&&h.svg({pane:C})||h.Canvas&&h.canvas({pane:C}),this._paneRenderers[C]=E),E}}),h.Path=h.Layer.extend({options:{stroke:!0,color:'#3388ff',weight:3,opacity:1,lineCap:'round',lineJoin:'round',dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:0.2,fillRule:'evenodd',interactive:!0},beforeAdd:function beforeAdd(C){this._renderer=C.getRenderer(this)},onAdd:function onAdd(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function onRemove(){this._renderer._removePath(this)},redraw:function redraw(){return this._map&&this._renderer._updatePath(this),this},setStyle:function setStyle(C){return h.setOptions(this,C),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function bringToFront(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function bringToBack(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function getElement(){return this._path},_reset:function _reset(){this._project(),this._update()},_clickTolerance:function _clickTolerance(){return(this.options.stroke?this.options.weight/2:0)+(h.Browser.touch?10:0)}}),h.LineUtil={simplify:function simplify(C,E){if(!E||!C.length)return C.slice();var B=E*E;return C=this._reducePoints(C,B),C=this._simplifyDP(C,B),C},pointToSegmentDistance:function pointToSegmentDistance(C,E,B){return _Mathsqrt(this._sqClosestPointOnSegment(C,E,B,!0))},closestPointOnSegment:function closestPointOnSegment(C,E,B){return this._sqClosestPointOnSegment(C,E,B)},_simplifyDP:function _simplifyDP(C,E){var B=C.length,U=('undefined'==typeof Uint8Array?'undefined':_typeof(Uint8Array))===g+''?Array:Uint8Array,O=new U(B);O[0]=O[B-1]=1,this._simplifyDPStep(C,O,E,0,B-1);var A=[],Z;for(Z=0;Z<B;Z++)O[Z]&&A.push(C[Z]);return A},_simplifyDPStep:function _simplifyDPStep(C,E,B,U,O){var Z=0,A,I,M;for(I=U+1;I<=O-1;I++)M=this._sqClosestPointOnSegment(C[I],C[U],C[O],!0),M>Z&&(A=I,Z=M);Z>B&&(E[A]=1,this._simplifyDPStep(C,E,B,U,A),this._simplifyDPStep(C,E,B,A,O))},_reducePoints:function _reducePoints(C,E){for(var B=[C[0]],U=1,O=0,Z=C.length;U<Z;U++)this._sqDist(C[U],C[O])>E&&(B.push(C[U]),O=U);return O<Z-1&&B.push(C[Z-1]),B},clipSegment:function clipSegment(C,E,B,U,O){var Z=U?this._lastCode:this._getBitCode(C,B),A=this._getBitCode(E,B),I,M,R;for(this._lastCode=A;;){if(!(Z|A))return[C,E];if(Z&A)return!1;I=Z||A,M=this._getEdgeIntersection(C,E,I,B,O),R=this._getBitCode(M,B),I===Z?(C=M,Z=R):(E=M,A=R)}},_getEdgeIntersection:function _getEdgeIntersection(C,E,B,U,O){var Z=E.x-C.x,A=E.y-C.y,I=U.min,M=U.max,R,N;return 8&B?(R=C.x+Z*(M.y-C.y)/A,N=M.y):4&B?(R=C.x+Z*(I.y-C.y)/A,N=I.y):2&B?(R=M.x,N=C.y+A*(M.x-C.x)/Z):1&B&&(R=I.x,N=C.y+A*(I.x-C.x)/Z),new h.Point(R,N,O)},_getBitCode:function _getBitCode(C,E){var B=0;return C.x<E.min.x?B|=1:C.x>E.max.x&&(B|=2),C.y<E.min.y?B|=4:C.y>E.max.y&&(B|=8),B},_sqDist:function _sqDist(C,E){var B=E.x-C.x,U=E.y-C.y;return B*B+U*U},_sqClosestPointOnSegment:function _sqClosestPointOnSegment(C,E,B,U){var O=E.x,Z=E.y,A=B.x-O,I=B.y-Z,M=A*A+I*I,R;return 0<M&&(R=((C.x-O)*A+(C.y-Z)*I)/M,1<R?(O=B.x,Z=B.y):0<R&&(O+=A*R,Z+=I*R)),A=C.x-O,I=C.y-Z,U?A*A+I*I:new h.Point(O,Z)}},h.Polyline=h.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function initialize(C,E){h.setOptions(this,E),this._setLatLngs(C)},getLatLngs:function getLatLngs(){return this._latlngs},setLatLngs:function setLatLngs(C){return this._setLatLngs(C),this.redraw()},isEmpty:function isEmpty(){return!this._latlngs.length},closestLayerPoint:function closestLayerPoint(C){for(var E=Infinity,B=null,U=h.LineUtil._sqClosestPointOnSegment,A=0,I=this._parts.length,O,Z,M;A<I;A++){M=this._parts[A];for(var R=1,N=M.length;R<N;R++){O=M[R-1],Z=M[R];var W=U(C,O,Z,!0);W<E&&(E=W,B=U(C,O,Z))}}return B&&(B.distance=_Mathsqrt(E)),B},getCenter:function getCenter(){if(!this._map)throw new Error('Must add layer to map before using getCenter()');var I=this._rings[0],M=I.length,C,E,B,U,O,Z,A;if(!M)return null;for(C=0,E=0;C<M-1;C++)E+=I[C].distanceTo(I[C+1])/2;if(0===E)return this._map.layerPointToLatLng(I[0]);for(C=0,U=0;C<M-1;C++)if(O=I[C],Z=I[C+1],B=O.distanceTo(Z),U+=B,U>E)return A=(U-E)/B,this._map.layerPointToLatLng([Z.x-A*(Z.x-O.x),Z.y-A*(Z.y-O.y)])},getBounds:function getBounds(){return this._bounds},addLatLng:function addLatLng(C,E){return E=E||this._defaultShape(),C=h.latLng(C),E.push(C),this._bounds.extend(C),this.redraw()},_setLatLngs:function _setLatLngs(C){this._bounds=new h.LatLngBounds,this._latlngs=this._convertLatLngs(C)},_defaultShape:function _defaultShape(){return h.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function _convertLatLngs(C){for(var E=[],B=h.Polyline._flat(C),U=0,O=C.length;U<O;U++)B?(E[U]=h.latLng(C[U]),this._bounds.extend(E[U])):E[U]=this._convertLatLngs(C[U]);return E},_project:function _project(){var C=new h.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,C);var E=this._clickTolerance(),B=new h.Point(E,E);this._bounds.isValid()&&C.isValid()&&(C.min._subtract(B),C.max._add(B),this._pxBounds=C)},_projectLatlngs:function _projectLatlngs(C,E,B){var U=C[0]instanceof h.LatLng,O=C.length,Z,A;if(U){for(A=[],Z=0;Z<O;Z++)A[Z]=this._map.latLngToLayerPoint(C[Z]),B.extend(A[Z]);E.push(A)}else for(Z=0;Z<O;Z++)this._projectLatlngs(C[Z],E,B)},_clipPoints:function _clipPoints(){var C=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(C)){if(this.options.noClip)return void(this._parts=this._rings);var E=this._parts,B,U,O,Z,A,I,M;for(B=0,O=0,Z=this._rings.length;B<Z;B++)for(M=this._rings[B],U=0,A=M.length;U<A-1;U++)(I=h.LineUtil.clipSegment(M[U],M[U+1],C,U,!0),!!I)&&(E[O]=E[O]||[],E[O].push(I[0]),(I[1]!==M[U+1]||U===A-2)&&(E[O].push(I[1]),O++))}},_simplifyPoints:function _simplifyPoints(){for(var C=this._parts,E=this.options.smoothFactor,B=0,U=C.length;B<U;B++)C[B]=h.LineUtil.simplify(C[B],E)},_update:function _update(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function _updatePath(){this._renderer._updatePoly(this)}}),h.polyline=function(C,E){return new h.Polyline(C,E)},h.Polyline._flat=function(C){return!h.Util.isArray(C[0])||'object'!==_typeof(C[0][0])&&'undefined'!=typeof C[0][0]},h.PolyUtil={},h.PolyUtil.clipPolygon=function(C,E,B){var O=[1,4,2,8],G=h.LineUtil,U,Z,A,I,M,R,N,W,H;for(Z=0,N=C.length;Z<N;Z++)C[Z]._code=G._getBitCode(C[Z],E);for(I=0;4>I;I++){for(W=O[I],U=[],(Z=0,N=C.length,A=N-1);Z<N;A=Z++)M=C[Z],R=C[A],M._code&W?!(R._code&W)&&(H=G._getEdgeIntersection(R,M,W,E,B),H._code=G._getBitCode(H,E),U.push(H)):(R._code&W&&(H=G._getEdgeIntersection(R,M,W,E,B),H._code=G._getBitCode(H,E),U.push(H)),U.push(M));C=U}return C},h.Polygon=h.Polyline.extend({options:{fill:!0},isEmpty:function isEmpty(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function getCenter(){if(!this._map)throw new Error('Must add layer to map before using getCenter()');var R=this._rings[0],N=R.length,C,E,B,U,O,Z,A,I,M;if(!N)return null;for(Z=A=I=0,C=0,E=N-1;C<N;E=C++)B=R[C],U=R[E],O=B.y*U.x-U.y*B.x,A+=(B.x+U.x)*O,I+=(B.y+U.y)*O,Z+=3*O;return M=0===Z?R[0]:[A/Z,I/Z],this._map.layerPointToLatLng(M)},_convertLatLngs:function _convertLatLngs(C){var E=h.Polyline.prototype._convertLatLngs.call(this,C),B=E.length;return 2<=B&&E[0]instanceof h.LatLng&&E[0].equals(E[B-1])&&E.pop(),E},_setLatLngs:function _setLatLngs(C){h.Polyline.prototype._setLatLngs.call(this,C),h.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function _defaultShape(){return h.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function _clipPoints(){var C=this._renderer._bounds,E=this.options.weight,B=new h.Point(E,E);if(C=new h.Bounds(C.min.subtract(B),C.max.add(B)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(C)){if(this.options.noClip)return void(this._parts=this._rings);for(var U=0,O=this._rings.length,Z;U<O;U++)Z=h.PolyUtil.clipPolygon(this._rings[U],C,!0),Z.length&&this._parts.push(Z)}},_updatePath:function _updatePath(){this._renderer._updatePoly(this,!0)}}),h.polygon=function(C,E){return new h.Polygon(C,E)},h.Rectangle=h.Polygon.extend({initialize:function initialize(C,E){h.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(C),E)},setBounds:function setBounds(C){return this.setLatLngs(this._boundsToLatLngs(C))},_boundsToLatLngs:function _boundsToLatLngs(C){return C=h.latLngBounds(C),[C.getSouthWest(),C.getNorthWest(),C.getNorthEast(),C.getSouthEast()]}}),h.rectangle=function(C,E){return new h.Rectangle(C,E)},h.CircleMarker=h.Path.extend({options:{fill:!0,radius:10},initialize:function initialize(C,E){h.setOptions(this,E),this._latlng=h.latLng(C),this._radius=this.options.radius},setLatLng:function setLatLng(C){return this._latlng=h.latLng(C),this.redraw(),this.fire('move',{latlng:this._latlng})},getLatLng:function getLatLng(){return this._latlng},setRadius:function setRadius(C){return this.options.radius=this._radius=C,this.redraw()},getRadius:function getRadius(){return this._radius},setStyle:function setStyle(C){var E=C&&C.radius||this._radius;return h.Path.prototype.setStyle.call(this,C),this.setRadius(E),this},_project:function _project(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function _updateBounds(){var C=this._radius,E=this._radiusY||C,B=this._clickTolerance(),U=[C+B,E+B];this._pxBounds=new h.Bounds(this._point.subtract(U),this._point.add(U))},_update:function _update(){this._map&&this._updatePath()},_updatePath:function _updatePath(){this._renderer._updateCircle(this)},_empty:function _empty(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),h.circleMarker=function(C,E){return new h.CircleMarker(C,E)},h.Circle=h.CircleMarker.extend({initialize:function initialize(C,E,B){if('number'==typeof E&&(E=h.extend({},B,{radius:E})),h.setOptions(this,E),this._latlng=h.latLng(C),isNaN(this.options.radius))throw new Error('Circle radius cannot be NaN');this._mRadius=this.options.radius},setRadius:function setRadius(C){return this._mRadius=C,this.redraw()},getRadius:function getRadius(){return this._mRadius},getBounds:function getBounds(){var C=[this._radius,this._radiusY||this._radius];return new h.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(C)),this._map.layerPointToLatLng(this._point.add(C)))},setStyle:h.Path.prototype.setStyle,_project:function _project(){var C=this._latlng.lng,E=this._latlng.lat,B=this._map,U=B.options.crs;if(U.distance===h.CRS.Earth.distance){var O=_MathPI/180,Z=this._mRadius/h.CRS.Earth.R/O,A=B.project([E+Z,C]),I=B.project([E-Z,C]),M=A.add(I).divideBy(2),R=B.unproject(M).lat,N=_Mathacos((_Mathcos(Z*O)-_Mathsin(E*O)*_Mathsin(R*O))/(_Mathcos(E*O)*_Mathcos(R*O)))/O;(isNaN(N)||0==N)&&(N=Z/_Mathcos(_MathPI/180*E)),this._point=M.subtract(B.getPixelOrigin()),this._radius=isNaN(N)?0:_Mathmax(_Mathround(M.x-B.project([R,C-N]).x),1),this._radiusY=_Mathmax(_Mathround(M.y-A.y),1)}else{var W=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=B.latLngToLayerPoint(this._latlng),this._radius=this._point.x-B.latLngToLayerPoint(W).x}this._updateBounds()}}),h.circle=function(C,E,B){return new h.Circle(C,E,B)},h.SVG=h.Renderer.extend({getEvents:function getEvents(){var C=h.Renderer.prototype.getEvents.call(this);return C.zoomstart=this._onZoomStart,C},_initContainer:function _initContainer(){this._container=h.SVG.create('svg'),this._container.setAttribute('pointer-events','none'),this._rootGroup=h.SVG.create('g'),this._container.appendChild(this._rootGroup)},_onZoomStart:function _onZoomStart(){this._update()},_update:function _update(){if(!(this._map._animatingZoom&&this._bounds)){h.Renderer.prototype._update.call(this);var C=this._bounds,E=C.getSize(),B=this._container;this._svgSize&&this._svgSize.equals(E)||(this._svgSize=E,B.setAttribute('width',E.x),B.setAttribute('height',E.y)),h.DomUtil.setPosition(B,C.min),B.setAttribute('viewBox',[C.min.x,C.min.y,E.x,E.y].join(' ')),this.fire('update')}},_initPath:function _initPath(C){var E=C._path=h.SVG.create('path');C.options.className&&h.DomUtil.addClass(E,C.options.className),C.options.interactive&&h.DomUtil.addClass(E,'leaflet-interactive'),this._updateStyle(C),this._layers[h.stamp(C)]=C},_addPath:function _addPath(C){this._rootGroup.appendChild(C._path),C.addInteractiveTarget(C._path)},_removePath:function _removePath(C){h.DomUtil.remove(C._path),C.removeInteractiveTarget(C._path),delete this._layers[h.stamp(C)]},_updatePath:function _updatePath(C){C._project(),C._update()},_updateStyle:function _updateStyle(C){var E=C._path,B=C.options;E&&(B.stroke?(E.setAttribute('stroke',B.color),E.setAttribute('stroke-opacity',B.opacity),E.setAttribute('stroke-width',B.weight),E.setAttribute('stroke-linecap',B.lineCap),E.setAttribute('stroke-linejoin',B.lineJoin),B.dashArray?E.setAttribute('stroke-dasharray',B.dashArray):E.removeAttribute('stroke-dasharray'),B.dashOffset?E.setAttribute('stroke-dashoffset',B.dashOffset):E.removeAttribute('stroke-dashoffset')):E.setAttribute('stroke','none'),B.fill?(E.setAttribute('fill',B.fillColor||B.color),E.setAttribute('fill-opacity',B.fillOpacity),E.setAttribute('fill-rule',B.fillRule||'evenodd')):E.setAttribute('fill','none'))},_updatePoly:function _updatePoly(C,E){this._setPath(C,h.SVG.pointsToPath(C._parts,E))},_updateCircle:function _updateCircle(C){var E=C._point,B=C._radius,U=C._radiusY||B,O='a'+B+','+U+' 0 1,0 ',Z=C._empty()?'M0 0':'M'+(E.x-B)+','+E.y+O+2*B+',0 '+O+2*-B+',0 ';this._setPath(C,Z)},_setPath:function _setPath(C,E){C._path.setAttribute('d',E)},_bringToFront:function _bringToFront(C){h.DomUtil.toFront(C._path)},_bringToBack:function _bringToBack(C){h.DomUtil.toBack(C._path)}}),h.extend(h.SVG,{create:function create(C){return _.createElementNS('http://www.w3.org/2000/svg',C)},pointsToPath:function pointsToPath(C,E){var B='',U,O,Z,A,I,M;for(U=0,Z=C.length;U<Z;U++){for(I=C[U],O=0,A=I.length;O<A;O++)M=I[O],B+=(O?'L':'M')+M.x+' '+M.y;B+=E?h.Browser.svg?'z':'x':''}return B||'M0 0'}}),h.Browser.svg=!!(_.createElementNS&&h.SVG.create('svg').createSVGRect),h.svg=function(C){return h.Browser.svg||h.Browser.vml?new h.SVG(C):null},h.Browser.vml=!h.Browser.svg&&function(){try{var C=_.createElement('div');C.innerHTML='<v:shape adj="1"/>';var E=C.firstChild;return E.style.behavior='url(#default#VML)',E&&'object'===_typeof(E.adj)}catch(B){return!1}}(),h.SVG.include(h.Browser.vml?{_initContainer:function _initContainer(){this._container=h.DomUtil.create('div','leaflet-vml-container')},_update:function _update(){this._map._animatingZoom||(h.Renderer.prototype._update.call(this),this.fire('update'))},_initPath:function _initPath(C){var E=C._container=h.SVG.create('shape');h.DomUtil.addClass(E,'leaflet-vml-shape '+(this.options.className||'')),E.coordsize='1 1',C._path=h.SVG.create('path'),E.appendChild(C._path),this._updateStyle(C),this._layers[h.stamp(C)]=C},_addPath:function _addPath(C){var E=C._container;this._container.appendChild(E),C.options.interactive&&C.addInteractiveTarget(E)},_removePath:function _removePath(C){var E=C._container;h.DomUtil.remove(E),C.removeInteractiveTarget(E),delete this._layers[h.stamp(C)]},_updateStyle:function _updateStyle(C){var E=C._stroke,B=C._fill,U=C.options,O=C._container;O.stroked=!!U.stroke,O.filled=!!U.fill,U.stroke?(!E&&(E=C._stroke=h.SVG.create('stroke')),O.appendChild(E),E.weight=U.weight+'px',E.color=U.color,E.opacity=U.opacity,E.dashStyle=U.dashArray?h.Util.isArray(U.dashArray)?U.dashArray.join(' '):U.dashArray.replace(/( *, *)/g,' '):'',E.endcap=U.lineCap.replace('butt','flat'),E.joinstyle=U.lineJoin):E&&(O.removeChild(E),C._stroke=null),U.fill?(!B&&(B=C._fill=h.SVG.create('fill')),O.appendChild(B),B.color=U.fillColor||U.color,B.opacity=U.fillOpacity):B&&(O.removeChild(B),C._fill=null)},_updateCircle:function _updateCircle(C){var E=C._point.round(),B=_Mathround(C._radius),U=_Mathround(C._radiusY||B);this._setPath(C,C._empty()?'M0 0':'AL '+E.x+','+E.y+' '+B+','+U+' 0,'+23592600)},_setPath:function _setPath(C,E){C._path.v=E},_bringToFront:function _bringToFront(C){h.DomUtil.toFront(C._container)},_bringToBack:function _bringToBack(C){h.DomUtil.toBack(C._container)}}:{}),h.Browser.vml&&(h.SVG.create=function(){try{return _.namespaces.add('lvml','urn:schemas-microsoft-com:vml'),function(C){return _.createElement('<lvml:'+C+' class="lvml">')}}catch(C){return function(E){return _.createElement('<'+E+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),h.Canvas=h.Renderer.extend({getEvents:function getEvents(){var C=h.Renderer.prototype.getEvents.call(this);return C.viewprereset=this._onViewPreReset,C},_onViewPreReset:function _onViewPreReset(){this._postponeUpdatePaths=!0},onAdd:function onAdd(){h.Renderer.prototype.onAdd.call(this),this._draw()},_initContainer:function _initContainer(){var C=this._container=_.createElement('canvas');h.DomEvent.on(C,'mousemove',h.Util.throttle(this._onMouseMove,32,this),this).on(C,'click dblclick mousedown mouseup contextmenu',this._onClick,this).on(C,'mouseout',this._handleMouseOut,this),this._ctx=C.getContext('2d')},_updatePaths:function _updatePaths(){if(!this._postponeUpdatePaths){var C;for(var E in this._redrawBounds=null,this._layers)C=this._layers[E],C._update();this._redraw()}},_update:function _update(){if(!(this._map._animatingZoom&&this._bounds)){this._drawnLayers={},h.Renderer.prototype._update.call(this);var C=this._bounds,E=this._container,B=C.getSize(),U=h.Browser.retina?2:1;h.DomUtil.setPosition(E,C.min),E.width=U*B.x,E.height=U*B.y,E.style.width=B.x+'px',E.style.height=B.y+'px',h.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-C.min.x,-C.min.y),this.fire('update')}},_reset:function _reset(){h.Renderer.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function _initPath(C){this._updateDashArray(C),this._layers[h.stamp(C)]=C;var E=C._order={layer:C,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=E),this._drawLast=E,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function _addPath(C){this._requestRedraw(C)},_removePath:function _removePath(C){var E=C._order,B=E.next,U=E.prev;B?B.prev=U:this._drawLast=U,U?U.next=B:this._drawFirst=B,delete C._order,delete this._layers[h.stamp(C)],this._requestRedraw(C)},_updatePath:function _updatePath(C){this._extendRedrawBounds(C),C._project(),C._update(),this._requestRedraw(C)},_updateStyle:function _updateStyle(C){this._updateDashArray(C),this._requestRedraw(C)},_updateDashArray:function _updateDashArray(C){if(C.options.dashArray){var E=C.options.dashArray.split(','),B=[],U;for(U=0;U<E.length;U++)B.push(+E[U]);C.options._dashArray=B}},_requestRedraw:function _requestRedraw(C){this._map&&(this._extendRedrawBounds(C),this._redrawRequest=this._redrawRequest||h.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function _extendRedrawBounds(C){var E=(C.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new h.Bounds,this._redrawBounds.extend(C._pxBounds.min.subtract([E,E])),this._redrawBounds.extend(C._pxBounds.max.add([E,E]))},_redraw:function _redraw(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function _clear(){var C=this._redrawBounds;if(C){var E=C.getSize();this._ctx.clearRect(C.min.x,C.min.y,E.x,E.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function _draw(){var E=this._redrawBounds,C;if(this._ctx.save(),E){var B=E.getSize();this._ctx.beginPath(),this._ctx.rect(E.min.x,E.min.y,B.x,B.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)C=U.layer,(!E||C._pxBounds&&C._pxBounds.intersects(E))&&C._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function _updatePoly(C,E){if(this._drawing){var A=C._parts,I=A.length,M=this._ctx,B,U,O,Z;if(I){for(this._drawnLayers[C._leaflet_id]=C,M.beginPath(),M.setLineDash&&M.setLineDash(C.options&&C.options._dashArray||[]),B=0;B<I;B++){for(U=0,O=A[B].length;U<O;U++)Z=A[B][U],M[U?'lineTo':'moveTo'](Z.x,Z.y);E&&M.closePath()}this._fillStroke(M,C)}}},_updateCircle:function _updateCircle(C){if(this._drawing&&!C._empty()){var E=C._point,B=this._ctx,U=C._radius,O=(C._radiusY||U)/U;this._drawnLayers[C._leaflet_id]=C,1!=O&&(B.save(),B.scale(1,O)),B.beginPath(),B.arc(E.x,E.y/O,U,0,2*_MathPI,!1),1!=O&&B.restore(),this._fillStroke(B,C)}},_fillStroke:function _fillStroke(C,E){var B=E.options;B.fill&&(C.globalAlpha=B.fillOpacity,C.fillStyle=B.fillColor||B.color,C.fill(B.fillRule||'evenodd')),B.stroke&&0!==B.weight&&(C.globalAlpha=B.opacity,C.lineWidth=B.weight,C.strokeStyle=B.color,C.lineCap=B.lineCap,C.lineJoin=B.lineJoin,C.stroke())},_onClick:function _onClick(C){for(var E=this._map.mouseEventToLayerPoint(C),O=this._drawFirst,B,U;O;O=O.next)B=O.layer,B.options.interactive&&B._containsPoint(E)&&!this._map._draggableMoved(B)&&(U=B);U&&(h.DomEvent._fakeStop(C),this._fireEvent([U],C))},_onMouseMove:function _onMouseMove(C){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var E=this._map.mouseEventToLayerPoint(C);this._handleMouseHover(C,E)}},_handleMouseOut:function _handleMouseOut(C){var E=this._hoveredLayer;E&&(h.DomUtil.removeClass(this._container,'leaflet-interactive'),this._fireEvent([E],C,'mouseout'),this._hoveredLayer=null)},_handleMouseHover:function _handleMouseHover(C,E){for(var O=this._drawFirst,B,U;O;O=O.next)B=O.layer,B.options.interactive&&B._containsPoint(E)&&(U=B);U!==this._hoveredLayer&&(this._handleMouseOut(C),U&&(h.DomUtil.addClass(this._container,'leaflet-interactive'),this._fireEvent([U],C,'mouseover'),this._hoveredLayer=U)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],C)},_fireEvent:function _fireEvent(C,E,B){this._map._fireDOMEvent(E,B||E.type,C)},_bringToFront:function _bringToFront(C){var E=C._order,B=E.next,U=E.prev;if(B)B.prev=U;else return;U?U.next=B:B&&(this._drawFirst=B),E.prev=this._drawLast,this._drawLast.next=E,E.next=null,this._drawLast=E,this._requestRedraw(C)},_bringToBack:function _bringToBack(C){var E=C._order,B=E.next,U=E.prev;if(U)U.next=B;else return;B?B.prev=U:U&&(this._drawLast=U),E.prev=null,E.next=this._drawFirst,this._drawFirst.prev=E,this._drawFirst=E,this._requestRedraw(C)}}),h.Browser.canvas=function(){return!!_.createElement('canvas').getContext}(),h.canvas=function(C){return h.Browser.canvas?new h.Canvas(C):null},h.Polyline.prototype._containsPoint=function(C,E){var M=this._clickTolerance(),B,U,O,Z,A,I;if(!this._pxBounds.contains(C))return!1;for(B=0,Z=this._parts.length;B<Z;B++)for(I=this._parts[B],U=0,A=I.length,O=A-1;U<A;O=U++)if((E||0!==U)&&h.LineUtil.pointToSegmentDistance(C,I[O],I[U])<=M)return!0;return!1},h.Polygon.prototype._containsPoint=function(C){var E=!1,B,U,O,Z,A,I,M,R;if(!this._pxBounds.contains(C))return!1;for(Z=0,M=this._parts.length;Z<M;Z++)for(B=this._parts[Z],A=0,R=B.length,I=R-1;A<R;I=A++)U=B[A],O=B[I],U.y>C.y!=O.y>C.y&&C.x<(O.x-U.x)*(C.y-U.y)/(O.y-U.y)+U.x&&(E=!E);return E||h.Polyline.prototype._containsPoint.call(this,C,!0)},h.CircleMarker.prototype._containsPoint=function(C){return C.distanceTo(this._point)<=this._radius+this._clickTolerance()},h.GeoJSON=h.FeatureGroup.extend({initialize:function initialize(C,E){h.setOptions(this,E),this._layers={},C&&this.addData(C)},addData:function addData(C){var E=h.Util.isArray(C)?C:C.features,B,U,O;if(E){for(B=0,U=E.length;B<U;B++)O=E[B],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var Z=this.options;if(Z.filter&&!Z.filter(C))return this;var A=h.GeoJSON.geometryToLayer(C,Z);return A?(A.feature=h.GeoJSON.asFeature(C),A.defaultOptions=A.options,this.resetStyle(A),Z.onEachFeature&&Z.onEachFeature(C,A),this.addLayer(A)):this},resetStyle:function resetStyle(C){return C.options=h.Util.extend({},C.defaultOptions),this._setLayerStyle(C,this.options.style),this},setStyle:function setStyle(C){return this.eachLayer(function(E){this._setLayerStyle(E,C)},this)},_setLayerStyle:function _setLayerStyle(C,E){'function'==typeof E&&(E=E(C.feature)),C.setStyle&&C.setStyle(E)}}),h.extend(h.GeoJSON,{geometryToLayer:function geometryToLayer(C,E){var B='Feature'===C.type?C.geometry:C,U=B?B.coordinates:null,O=[],Z=E&&E.pointToLayer,A=E&&E.coordsToLatLng||this.coordsToLatLng,I,M,R,N;if(!U&&!B)return null;switch(B.type){case'Point':return I=A(U),Z?Z(C,I):new h.Marker(I);case'MultiPoint':for(R=0,N=U.length;R<N;R++)I=A(U[R]),O.push(Z?Z(C,I):new h.Marker(I));return new h.FeatureGroup(O);case'LineString':case'MultiLineString':return M=this.coordsToLatLngs(U,'LineString'===B.type?0:1,A),new h.Polyline(M,E);case'Polygon':case'MultiPolygon':return M=this.coordsToLatLngs(U,'Polygon'===B.type?1:2,A),new h.Polygon(M,E);case'GeometryCollection':for(R=0,N=B.geometries.length;R<N;R++){var W=this.geometryToLayer({geometry:B.geometries[R],type:'Feature',properties:C.properties},E);W&&O.push(W)}return new h.FeatureGroup(O);default:throw new Error('Invalid GeoJSON object.');}},coordsToLatLng:function coordsToLatLng(C){return new h.LatLng(C[1],C[0],C[2])},coordsToLatLngs:function coordsToLatLngs(C,E,B){for(var U=[],O=0,Z=C.length,A;O<Z;O++)A=E?this.coordsToLatLngs(C[O],E-1,B):(B||this.coordsToLatLng)(C[O]),U.push(A);return U},latLngToCoords:function latLngToCoords(C){return C.alt===g?[C.lng,C.lat]:[C.lng,C.lat,C.alt]},latLngsToCoords:function latLngsToCoords(C,E,B){for(var U=[],O=0,Z=C.length;O<Z;O++)U.push(E?h.GeoJSON.latLngsToCoords(C[O],E-1,B):h.GeoJSON.latLngToCoords(C[O]));return!E&&B&&U.push(U[0]),U},getFeature:function getFeature(C,E){return C.feature?h.extend({},C.feature,{geometry:E}):h.GeoJSON.asFeature(E)},asFeature:function asFeature(C){return'Feature'===C.type||'FeatureCollection'===C.type?C:{type:'Feature',properties:{},geometry:C}}});var D={toGeoJSON:function toGeoJSON(){return h.GeoJSON.getFeature(this,{type:'Point',coordinates:h.GeoJSON.latLngToCoords(this.getLatLng())})}};h.Marker.include(D),h.Circle.include(D),h.CircleMarker.include(D),h.Polyline.prototype.toGeoJSON=function(){var C=!h.Polyline._flat(this._latlngs),E=h.GeoJSON.latLngsToCoords(this._latlngs,C?1:0);return h.GeoJSON.getFeature(this,{type:(C?'Multi':'')+'LineString',coordinates:E})},h.Polygon.prototype.toGeoJSON=function(){var C=!h.Polyline._flat(this._latlngs),E=C&&!h.Polyline._flat(this._latlngs[0]),B=h.GeoJSON.latLngsToCoords(this._latlngs,E?2:C?1:0,!0);return C||(B=[B]),h.GeoJSON.getFeature(this,{type:(E?'Multi':'')+'Polygon',coordinates:B})},h.LayerGroup.include({toMultiPoint:function toMultiPoint(){var C=[];return this.eachLayer(function(E){C.push(E.toGeoJSON().geometry.coordinates)}),h.GeoJSON.getFeature(this,{type:'MultiPoint',coordinates:C})},toGeoJSON:function toGeoJSON(){var C=this.feature&&this.feature.geometry&&this.feature.geometry.type;if('MultiPoint'===C)return this.toMultiPoint();var E='GeometryCollection'===C,B=[];return this.eachLayer(function(U){if(U.toGeoJSON){var O=U.toGeoJSON();B.push(E?O.geometry:h.GeoJSON.asFeature(O))}}),E?h.GeoJSON.getFeature(this,{geometries:B,type:'GeometryCollection'}):{type:'FeatureCollection',features:B}}}),h.geoJSON=function(C,E){return new h.GeoJSON(C,E)},h.geoJson=h.geoJSON,h.Draggable=h.Evented.extend({options:{clickTolerance:3},statics:{START:h.Browser.touch?['touchstart','mousedown']:['mousedown'],END:{mousedown:'mouseup',touchstart:'touchend',pointerdown:'touchend',MSPointerDown:'touchend'},MOVE:{mousedown:'mousemove',touchstart:'touchmove',pointerdown:'touchmove',MSPointerDown:'touchmove'}},initialize:function initialize(C,E,B){this._element=C,this._dragStartTarget=E||C,this._preventOutline=B},enable:function enable(){this._enabled||(h.DomEvent.on(this._dragStartTarget,h.Draggable.START.join(' '),this._onDown,this),this._enabled=!0)},disable:function disable(){this._enabled&&(h.Draggable._dragging===this&&this.finishDrag(),h.DomEvent.off(this._dragStartTarget,h.Draggable.START.join(' '),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function _onDown(C){if(!C._simulated&&this._enabled&&(this._moved=!1,!h.DomUtil.hasClass(this._element,'leaflet-zoom-anim'))&&!(h.Draggable._dragging||C.shiftKey||1!==C.which&&1!==C.button&&!C.touches)&&(h.Draggable._dragging=this,this._preventOutline&&h.DomUtil.preventOutline(this._element),h.DomUtil.disableImageDrag(),h.DomUtil.disableTextSelection(),!this._moving)){this.fire('down');var E=C.touches?C.touches[0]:C;this._startPoint=new h.Point(E.clientX,E.clientY),h.DomEvent.on(_,h.Draggable.MOVE[C.type],this._onMove,this).on(_,h.Draggable.END[C.type],this._onUp,this)}},_onMove:function _onMove(C){if(!C._simulated&&this._enabled){if(C.touches&&1<C.touches.length)return void(this._moved=!0);var E=C.touches&&1===C.touches.length?C.touches[0]:C,B=new h.Point(E.clientX,E.clientY),U=B.subtract(this._startPoint);(U.x||U.y)&&!(_Mathabs(U.x)+_Mathabs(U.y)<this.options.clickTolerance)&&(h.DomEvent.preventDefault(C),!this._moved&&(this.fire('dragstart'),this._moved=!0,this._startPos=h.DomUtil.getPosition(this._element).subtract(U),h.DomUtil.addClass(_.body,'leaflet-dragging'),this._lastTarget=C.target||C.srcElement,o.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),h.DomUtil.addClass(this._lastTarget,'leaflet-drag-target')),this._newPos=this._startPos.add(U),this._moving=!0,h.Util.cancelAnimFrame(this._animRequest),this._lastEvent=C,this._animRequest=h.Util.requestAnimFrame(this._updatePosition,this,!0))}},_updatePosition:function _updatePosition(){var C={originalEvent:this._lastEvent};this.fire('predrag',C),h.DomUtil.setPosition(this._element,this._newPos),this.fire('drag',C)},_onUp:function _onUp(C){C._simulated||!this._enabled||this.finishDrag()},finishDrag:function finishDrag(){for(var C in h.DomUtil.removeClass(_.body,'leaflet-dragging'),this._lastTarget&&(h.DomUtil.removeClass(this._lastTarget,'leaflet-drag-target'),this._lastTarget=null),h.Draggable.MOVE)h.DomEvent.off(_,h.Draggable.MOVE[C],this._onMove,this).off(_,h.Draggable.END[C],this._onUp,this);h.DomUtil.enableImageDrag(),h.DomUtil.enableTextSelection(),this._moved&&this._moving&&(h.Util.cancelAnimFrame(this._animRequest),this.fire('dragend',{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,h.Draggable._dragging=!1}}),h.Handler=h.Class.extend({initialize:function initialize(C){this._map=C},enable:function enable(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function disable(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function enabled(){return!!this._enabled}}),h.Map.mergeOptions({dragging:!0,inertia:!h.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:0.2,worldCopyJump:!1,maxBoundsViscosity:0}),h.Map.Drag=h.Handler.extend({addHooks:function addHooks(){if(!this._draggable){var C=this._map;this._draggable=new h.Draggable(C._mapPane,C._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on('predrag',this._onPreDragLimit,this),C.options.worldCopyJump&&(this._draggable.on('predrag',this._onPreDragWrap,this),C.on('zoomend',this._onZoomEnd,this),C.whenReady(this._onZoomEnd,this))}h.DomUtil.addClass(this._map._container,'leaflet-grab leaflet-touch-drag'),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function removeHooks(){h.DomUtil.removeClass(this._map._container,'leaflet-grab'),h.DomUtil.removeClass(this._map._container,'leaflet-touch-drag'),this._draggable.disable()},moved:function moved(){return this._draggable&&this._draggable._moved},moving:function moving(){return this._draggable&&this._draggable._moving},_onDown:function _onDown(){this._map._stop()},_onDragStart:function _onDragStart(){var C=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var E=h.latLngBounds(this._map.options.maxBounds);this._offsetLimit=h.bounds(this._map.latLngToContainerPoint(E.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(E.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=_Mathmin(1,_Mathmax(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;C.fire('movestart').fire('dragstart'),C.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function _onDrag(C){if(this._map.options.inertia){var E=this._lastTime=+new Date,B=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(B),this._times.push(E),50<E-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire('move',C).fire('drag',C)},_onZoomEnd:function _onZoomEnd(){var C=this._map.getSize().divideBy(2),E=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=E.subtract(C).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function _viscousLimit(C,E){return C-(C-E)*this._viscosity},_onPreDragLimit:function _onPreDragLimit(){if(this._viscosity&&this._offsetLimit){var C=this._draggable._newPos.subtract(this._draggable._startPos),E=this._offsetLimit;C.x<E.min.x&&(C.x=this._viscousLimit(C.x,E.min.x)),C.y<E.min.y&&(C.y=this._viscousLimit(C.y,E.min.y)),C.x>E.max.x&&(C.x=this._viscousLimit(C.x,E.max.x)),C.y>E.max.y&&(C.y=this._viscousLimit(C.y,E.max.y)),this._draggable._newPos=this._draggable._startPos.add(C)}},_onPreDragWrap:function _onPreDragWrap(){var C=this._worldWidth,E=_Mathround(C/2),B=this._initialWorldOffset,U=this._draggable._newPos.x,O=(U-E+B)%C+E-B,Z=(U+E+B)%C-E-B,A=_Mathabs(O+B)<_Mathabs(Z+B)?O:Z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function _onDragEnd(C){var E=this._map,B=E.options,U=!B.inertia||2>this._times.length;if(E.fire('dragend',C),U)E.fire('moveend');else{var O=this._lastPos.subtract(this._positions[0]),Z=(this._lastTime-this._times[0])/1e3,A=B.easeLinearity,I=O.multiplyBy(A/Z),M=I.distanceTo([0,0]),R=_Mathmin(B.inertiaMaxSpeed,M),N=I.multiplyBy(R/M),W=R/(B.inertiaDeceleration*A),H=N.multiplyBy(-W/2).round();H.x||H.y?(H=E._limitOffset(H,E.options.maxBounds),h.Util.requestAnimFrame(function(){E.panBy(H,{duration:W,easeLinearity:A,noMoveStart:!0,animate:!0})})):E.fire('moveend')}}}),h.Map.addInitHook('addHandler','dragging',h.Map.Drag),h.Map.mergeOptions({doubleClickZoom:!0}),h.Map.DoubleClickZoom=h.Handler.extend({addHooks:function addHooks(){this._map.on('dblclick',this._onDoubleClick,this)},removeHooks:function removeHooks(){this._map.off('dblclick',this._onDoubleClick,this)},_onDoubleClick:function _onDoubleClick(C){var E=this._map,B=E.getZoom(),U=E.options.zoomDelta,O=C.originalEvent.shiftKey?B-U:B+U;'center'===E.options.doubleClickZoom?E.setZoom(O):E.setZoomAround(C.containerPoint,O)}}),h.Map.addInitHook('addHandler','doubleClickZoom',h.Map.DoubleClickZoom),h.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),h.Map.ScrollWheelZoom=h.Handler.extend({addHooks:function addHooks(){h.DomEvent.on(this._map._container,'mousewheel',this._onWheelScroll,this),this._delta=0},removeHooks:function removeHooks(){h.DomEvent.off(this._map._container,'mousewheel',this._onWheelScroll,this)},_onWheelScroll:function _onWheelScroll(C){var E=h.DomEvent.getWheelDelta(C),B=this._map.options.wheelDebounceTime;this._delta+=E,this._lastMousePos=this._map.mouseEventToContainerPoint(C),this._startTime||(this._startTime=+new Date);var U=_Mathmax(B-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h.bind(this._performZoom,this),U),h.DomEvent.stop(C)},_performZoom:function _performZoom(){var C=this._map,E=C.getZoom(),B=this._map.options.zoomSnap||0;C._stop();var U=this._delta/(4*this._map.options.wheelPxPerZoomLevel),O=4*_Mathlog(2/(1+_Mathexp(-_Mathabs(U))))/_MathLN,Z=B?_Mathceil(O/B)*B:O,A=C._limitZoom(E+(0<this._delta?Z:-Z))-E;this._delta=0,this._startTime=null;A&&('center'===C.options.scrollWheelZoom?C.setZoom(E+A):C.setZoomAround(this._lastMousePos,E+A))}}),h.Map.addInitHook('addHandler','scrollWheelZoom',h.Map.ScrollWheelZoom),h.extend(h.DomEvent,{_touchstart:h.Browser.msPointer?'MSPointerDown':h.Browser.pointer?'pointerdown':'touchstart',_touchend:h.Browser.msPointer?'MSPointerUp':h.Browser.pointer?'pointerup':'touchend',addDoubleTapListener:function addDoubleTapListener(C,E,B){function U(H){var G;if(h.Browser.pointer){if(!h.Browser.edge||'mouse'===H.pointerType)return;G=h.DomEvent._pointersCount}else G=H.touches.length;if(!(1<G)){var V=Date.now(),q=V-(Z||V);A=H.touches?H.touches[0]:H,I=0<q&&q<=M,Z=V}}function O(H){if(I&&!A.cancelBubble){if(h.Browser.pointer){if(!h.Browser.edge||'mouse'===H.pointerType)return;var G={},V,q;for(q in A)V=A[q],G[q]=V&&V.bind?V.bind(A):V;A=G}A.type='dblclick',E(A),Z=null}}var I=!1,M=250,R='_leaflet_',N=this._touchstart,W=this._touchend,Z,A;return C[R+N+B]=U,C[R+W+B]=O,C[R+'dblclick'+B]=E,C.addEventListener(N,U,!1),C.addEventListener(W,O,!1),C.addEventListener('dblclick',E,!1),this},removeDoubleTapListener:function removeDoubleTapListener(C,E){var B='_leaflet_',U=C[B+this._touchstart+E],O=C[B+this._touchend+E],Z=C[B+'dblclick'+E];return C.removeEventListener(this._touchstart,U,!1),C.removeEventListener(this._touchend,O,!1),h.Browser.edge||C.removeEventListener('dblclick',Z,!1),this}}),h.extend(h.DomEvent,{POINTER_DOWN:h.Browser.msPointer?'MSPointerDown':'pointerdown',POINTER_MOVE:h.Browser.msPointer?'MSPointerMove':'pointermove',POINTER_UP:h.Browser.msPointer?'MSPointerUp':'pointerup',POINTER_CANCEL:h.Browser.msPointer?'MSPointerCancel':'pointercancel',TAG_WHITE_LIST:['INPUT','SELECT','OPTION'],_pointers:{},_pointersCount:0,addPointerListener:function addPointerListener(C,E,B,U){return'touchstart'===E?this._addPointerStart(C,B,U):'touchmove'===E?this._addPointerMove(C,B,U):'touchend'===E&&this._addPointerEnd(C,B,U),this},removePointerListener:function removePointerListener(C,E,B){var U=C['_leaflet_'+E+B];return'touchstart'===E?C.removeEventListener(this.POINTER_DOWN,U,!1):'touchmove'===E?C.removeEventListener(this.POINTER_MOVE,U,!1):'touchend'===E&&(C.removeEventListener(this.POINTER_UP,U,!1),C.removeEventListener(this.POINTER_CANCEL,U,!1)),this},_addPointerStart:function _addPointerStart(C,E,B){var U=h.bind(function(Z){if('mouse'!==Z.pointerType&&Z.MSPOINTER_TYPE_MOUSE&&Z.pointerType!==Z.MSPOINTER_TYPE_MOUSE)if(0>this.TAG_WHITE_LIST.indexOf(Z.target.tagName))h.DomEvent.preventDefault(Z);else return;this._handlePointer(Z,E)},this);if(C['_leaflet_touchstart'+B]=U,C.addEventListener(this.POINTER_DOWN,U,!1),!this._pointerDocListener){var O=h.bind(this._globalPointerUp,this);_.documentElement.addEventListener(this.POINTER_DOWN,h.bind(this._globalPointerDown,this),!0),_.documentElement.addEventListener(this.POINTER_MOVE,h.bind(this._globalPointerMove,this),!0),_.documentElement.addEventListener(this.POINTER_UP,O,!0),_.documentElement.addEventListener(this.POINTER_CANCEL,O,!0),this._pointerDocListener=!0}},_globalPointerDown:function _globalPointerDown(C){this._pointers[C.pointerId]=C,this._pointersCount++},_globalPointerMove:function _globalPointerMove(C){this._pointers[C.pointerId]&&(this._pointers[C.pointerId]=C)},_globalPointerUp:function _globalPointerUp(C){delete this._pointers[C.pointerId],this._pointersCount--},_handlePointer:function _handlePointer(C,E){for(var B in C.touches=[],this._pointers)C.touches.push(this._pointers[B]);C.changedTouches=[C],E(C)},_addPointerMove:function _addPointerMove(C,E,B){var U=h.bind(function(O){(O.pointerType===O.MSPOINTER_TYPE_MOUSE||'mouse'===O.pointerType)&&0===O.buttons||this._handlePointer(O,E)},this);C['_leaflet_touchmove'+B]=U,C.addEventListener(this.POINTER_MOVE,U,!1)},_addPointerEnd:function _addPointerEnd(C,E,B){var U=h.bind(function(O){this._handlePointer(O,E)},this);C['_leaflet_touchend'+B]=U,C.addEventListener(this.POINTER_UP,U,!1),C.addEventListener(this.POINTER_CANCEL,U,!1)}}),h.Map.mergeOptions({touchZoom:h.Browser.touch&&!h.Browser.android23,bounceAtZoomLimits:!0}),h.Map.TouchZoom=h.Handler.extend({addHooks:function addHooks(){h.DomUtil.addClass(this._map._container,'leaflet-touch-zoom'),h.DomEvent.on(this._map._container,'touchstart',this._onTouchStart,this)},removeHooks:function removeHooks(){h.DomUtil.removeClass(this._map._container,'leaflet-touch-zoom'),h.DomEvent.off(this._map._container,'touchstart',this._onTouchStart,this)},_onTouchStart:function _onTouchStart(C){var E=this._map;if(!(!C.touches||2!==C.touches.length||E._animatingZoom||this._zooming)){var B=E.mouseEventToContainerPoint(C.touches[0]),U=E.mouseEventToContainerPoint(C.touches[1]);this._centerPoint=E.getSize()._divideBy(2),this._startLatLng=E.containerPointToLatLng(this._centerPoint),'center'!==E.options.touchZoom&&(this._pinchStartLatLng=E.containerPointToLatLng(B.add(U)._divideBy(2))),this._startDist=B.distanceTo(U),this._startZoom=E.getZoom(),this._moved=!1,this._zooming=!0,E._stop(),h.DomEvent.on(_,'touchmove',this._onTouchMove,this).on(_,'touchend',this._onTouchEnd,this),h.DomEvent.preventDefault(C)}},_onTouchMove:function _onTouchMove(C){if(C.touches&&2===C.touches.length&&this._zooming){var E=this._map,B=E.mouseEventToContainerPoint(C.touches[0]),U=E.mouseEventToContainerPoint(C.touches[1]),O=B.distanceTo(U)/this._startDist;if(this._zoom=E.getScaleZoom(O,this._startZoom),!E.options.bounceAtZoomLimits&&(this._zoom<E.getMinZoom()&&1>O||this._zoom>E.getMaxZoom()&&1<O)&&(this._zoom=E._limitZoom(this._zoom)),'center'!==E.options.touchZoom){var Z=B._add(U)._divideBy(2)._subtract(this._centerPoint);if(1==O&&0===Z.x&&0===Z.y)return;this._center=E.unproject(E.project(this._pinchStartLatLng,this._zoom).subtract(Z),this._zoom)}else if(this._center=this._startLatLng,1==O)return;this._moved||(E._moveStart(!0),this._moved=!0),h.Util.cancelAnimFrame(this._animRequest);var A=h.bind(E._move,E,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=h.Util.requestAnimFrame(A,this,!0),h.DomEvent.preventDefault(C)}},_onTouchEnd:function _onTouchEnd(){return this._moved&&this._zooming?void(this._zooming=!1,h.Util.cancelAnimFrame(this._animRequest),h.DomEvent.off(_,'touchmove',this._onTouchMove).off(_,'touchend',this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):void(this._zooming=!1)}}),h.Map.addInitHook('addHandler','touchZoom',h.Map.TouchZoom),h.Map.mergeOptions({tap:!0,tapTolerance:15}),h.Map.Tap=h.Handler.extend({addHooks:function addHooks(){h.DomEvent.on(this._map._container,'touchstart',this._onDown,this)},removeHooks:function removeHooks(){h.DomEvent.off(this._map._container,'touchstart',this._onDown,this)},_onDown:function _onDown(C){if(C.touches){if(h.DomEvent.preventDefault(C),this._fireClick=!0,1<C.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var E=C.touches[0],B=E.target;this._startPos=this._newPos=new h.Point(E.clientX,E.clientY),B.tagName&&'a'===B.tagName.toLowerCase()&&h.DomUtil.addClass(B,'leaflet-active'),this._holdTimeout=setTimeout(h.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent('contextmenu',E))},this),1e3),this._simulateEvent('mousedown',E),h.DomEvent.on(_,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function _onUp(C){if(clearTimeout(this._holdTimeout),h.DomEvent.off(_,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&C&&C.changedTouches){var E=C.changedTouches[0],B=E.target;B&&B.tagName&&'a'===B.tagName.toLowerCase()&&h.DomUtil.removeClass(B,'leaflet-active'),this._simulateEvent('mouseup',E),this._isTapValid()&&this._simulateEvent('click',E)}},_isTapValid:function _isTapValid(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function _onMove(C){var E=C.touches[0];this._newPos=new h.Point(E.clientX,E.clientY),this._simulateEvent('mousemove',E)},_simulateEvent:function _simulateEvent(C,E){var B=_.createEvent('MouseEvents');B._simulated=!0,E.target._simulatedClick=!0,B.initMouseEvent(C,!0,!0,o,1,E.screenX,E.screenY,E.clientX,E.clientY,!1,!1,!1,!1,0,null),E.target.dispatchEvent(B)}}),h.Browser.touch&&!h.Browser.pointer&&h.Map.addInitHook('addHandler','tap',h.Map.Tap),h.Map.mergeOptions({boxZoom:!0}),h.Map.BoxZoom=h.Handler.extend({initialize:function initialize(C){this._map=C,this._container=C._container,this._pane=C._panes.overlayPane},addHooks:function addHooks(){h.DomEvent.on(this._container,'mousedown',this._onMouseDown,this)},removeHooks:function removeHooks(){h.DomEvent.off(this._container,'mousedown',this._onMouseDown,this)},moved:function moved(){return this._moved},_resetState:function _resetState(){this._moved=!1},_onMouseDown:function _onMouseDown(C){return C.shiftKey&&(1===C.which||1===C.button)&&void(this._resetState(),h.DomUtil.disableTextSelection(),h.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(C),h.DomEvent.on(_,{contextmenu:h.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function _onMouseMove(C){this._moved||(this._moved=!0,this._box=h.DomUtil.create('div','leaflet-zoom-box',this._container),h.DomUtil.addClass(this._container,'leaflet-crosshair'),this._map.fire('boxzoomstart')),this._point=this._map.mouseEventToContainerPoint(C);var E=new h.Bounds(this._point,this._startPoint),B=E.getSize();h.DomUtil.setPosition(this._box,E.min),this._box.style.width=B.x+'px',this._box.style.height=B.y+'px'},_finish:function _finish(){this._moved&&(h.DomUtil.remove(this._box),h.DomUtil.removeClass(this._container,'leaflet-crosshair')),h.DomUtil.enableTextSelection(),h.DomUtil.enableImageDrag(),h.DomEvent.off(_,{contextmenu:h.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function _onMouseUp(C){if((1===C.which||1===C.button)&&(this._finish(),!!this._moved)){setTimeout(h.bind(this._resetState,this),0);var E=new h.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(E).fire('boxzoomend',{boxZoomBounds:E})}},_onKeyDown:function _onKeyDown(C){27===C.keyCode&&this._finish()}}),h.Map.addInitHook('addHandler','boxZoom',h.Map.BoxZoom),h.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),h.Map.Keyboard=h.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function initialize(C){this._map=C,this._setPanDelta(C.options.keyboardPanDelta),this._setZoomDelta(C.options.zoomDelta)},addHooks:function addHooks(){var C=this._map._container;0>=C.tabIndex&&(C.tabIndex='0'),h.DomEvent.on(C,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function removeHooks(){this._removeHooks(),h.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function _onMouseDown(){if(!this._focused){var C=_.body,E=_.documentElement,B=C.scrollTop||E.scrollTop,U=C.scrollLeft||E.scrollLeft;this._map._container.focus(),o.scrollTo(U,B)}},_onFocus:function _onFocus(){this._focused=!0,this._map.fire('focus')},_onBlur:function _onBlur(){this._focused=!1,this._map.fire('blur')},_setPanDelta:function _setPanDelta(C){var E=this._panKeys={},B=this.keyCodes,U,O;for(U=0,O=B.left.length;U<O;U++)E[B.left[U]]=[-1*C,0];for(U=0,O=B.right.length;U<O;U++)E[B.right[U]]=[C,0];for(U=0,O=B.down.length;U<O;U++)E[B.down[U]]=[0,C];for(U=0,O=B.up.length;U<O;U++)E[B.up[U]]=[0,-1*C]},_setZoomDelta:function _setZoomDelta(C){var E=this._zoomKeys={},B=this.keyCodes,U,O;for(U=0,O=B.zoomIn.length;U<O;U++)E[B.zoomIn[U]]=C;for(U=0,O=B.zoomOut.length;U<O;U++)E[B.zoomOut[U]]=-C},_addHooks:function _addHooks(){h.DomEvent.on(_,'keydown',this._onKeyDown,this)},_removeHooks:function _removeHooks(){h.DomEvent.off(_,'keydown',this._onKeyDown,this)},_onKeyDown:function _onKeyDown(C){if(!(C.altKey||C.ctrlKey||C.metaKey)){var E=C.keyCode,B=this._map,U;if(E in this._panKeys){if(B._panAnim&&B._panAnim._inProgress)return;U=this._panKeys[E],C.shiftKey&&(U=h.point(U).multiplyBy(3)),B.panBy(U),B.options.maxBounds&&B.panInsideBounds(B.options.maxBounds)}else if(E in this._zoomKeys)B.setZoom(B.getZoom()+(C.shiftKey?3:1)*this._zoomKeys[E]);else if(27===E)B.closePopup();else return;h.DomEvent.stop(C)}}}),h.Map.addInitHook('addHandler','keyboard',h.Map.Keyboard),h.Handler.MarkerDrag=h.Handler.extend({initialize:function initialize(C){this._marker=C},addHooks:function addHooks(){var C=this._marker._icon;this._draggable||(this._draggable=new h.Draggable(C,C,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),h.DomUtil.addClass(C,'leaflet-marker-draggable')},removeHooks:function removeHooks(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&h.DomUtil.removeClass(this._marker._icon,'leaflet-marker-draggable')},moved:function moved(){return this._draggable&&this._draggable._moved},_onDragStart:function _onDragStart(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire('movestart').fire('dragstart')},_onDrag:function _onDrag(C){var E=this._marker,B=E._shadow,U=h.DomUtil.getPosition(E._icon),O=E._map.layerPointToLatLng(U);B&&h.DomUtil.setPosition(B,U),E._latlng=O,C.latlng=O,C.oldLatLng=this._oldLatLng,E.fire('move',C).fire('drag',C)},_onDragEnd:function _onDragEnd(C){delete this._oldLatLng,this._marker.fire('moveend').fire('dragend',C)}}),h.Control=h.Class.extend({options:{position:'topright'},initialize:function initialize(C){h.setOptions(this,C)},getPosition:function getPosition(){return this.options.position},setPosition:function setPosition(C){var E=this._map;return E&&E.removeControl(this),this.options.position=C,E&&E.addControl(this),this},getContainer:function getContainer(){return this._container},addTo:function addTo(C){this.remove(),this._map=C;var E=this._container=this.onAdd(C),B=this.getPosition(),U=C._controlCorners[B];return h.DomUtil.addClass(E,'leaflet-control'),-1===B.indexOf('bottom')?U.appendChild(E):U.insertBefore(E,U.firstChild),this},remove:function remove(){return this._map?(h.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function _refocusOnMap(C){this._map&&C&&0<C.screenX&&0<C.screenY&&this._map.getContainer().focus()}}),h.control=function(C){return new h.Control(C)},h.Map.include({addControl:function addControl(C){return C.addTo(this),this},removeControl:function removeControl(C){return C.remove(),this},_initControlPos:function _initControlPos(){function C(O,Z){E[O+Z]=h.DomUtil.create('div',B+O+' '+B+Z,U)}var E=this._controlCorners={},B='leaflet-',U=this._controlContainer=h.DomUtil.create('div',B+'control-container',this._container);C('top','left'),C('top','right'),C('bottom','left'),C('bottom','right')},_clearControlPos:function _clearControlPos(){h.DomUtil.remove(this._controlContainer)}}),h.Control.Zoom=h.Control.extend({options:{position:'topleft',zoomInText:'+',zoomInTitle:'Zoom in',zoomOutText:'-',zoomOutTitle:'Zoom out'},onAdd:function onAdd(C){var E='leaflet-control-zoom',B=h.DomUtil.create('div',E+' leaflet-bar'),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,E+'-in',B,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,E+'-out',B,this._zoomOut),this._updateDisabled(),C.on('zoomend zoomlevelschange',this._updateDisabled,this),B},onRemove:function onRemove(C){C.off('zoomend zoomlevelschange',this._updateDisabled,this)},disable:function disable(){return this._disabled=!0,this._updateDisabled(),this},enable:function enable(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function _zoomIn(C){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(C.shiftKey?3:1))},_zoomOut:function _zoomOut(C){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(C.shiftKey?3:1))},_createButton:function _createButton(C,E,B,U,O){var Z=h.DomUtil.create('a',B,U);return Z.innerHTML=C,Z.href='#',Z.title=E,Z.setAttribute('role','button'),Z.setAttribute('aria-label',E),h.DomEvent.on(Z,'mousedown dblclick',h.DomEvent.stopPropagation).on(Z,'click',h.DomEvent.stop).on(Z,'click',O,this).on(Z,'click',this._refocusOnMap,this),Z},_updateDisabled:function _updateDisabled(){var C=this._map,E='leaflet-disabled';h.DomUtil.removeClass(this._zoomInButton,E),h.DomUtil.removeClass(this._zoomOutButton,E),(this._disabled||C._zoom===C.getMinZoom())&&h.DomUtil.addClass(this._zoomOutButton,E),(this._disabled||C._zoom===C.getMaxZoom())&&h.DomUtil.addClass(this._zoomInButton,E)}}),h.Map.mergeOptions({zoomControl:!0}),h.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new h.Control.Zoom,this.addControl(this.zoomControl))}),h.control.zoom=function(C){return new h.Control.Zoom(C)},h.Control.Attribution=h.Control.extend({options:{position:'bottomright',prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function initialize(C){h.setOptions(this,C),this._attributions={}},onAdd:function onAdd(C){for(var E in C.attributionControl=this,this._container=h.DomUtil.create('div','leaflet-control-attribution'),h.DomEvent&&h.DomEvent.disableClickPropagation(this._container),C._layers)C._layers[E].getAttribution&&this.addAttribution(C._layers[E].getAttribution());return this._update(),this._container},setPrefix:function setPrefix(C){return this.options.prefix=C,this._update(),this},addAttribution:function addAttribution(C){return C?(this._attributions[C]||(this._attributions[C]=0),this._attributions[C]++,this._update(),this):this},removeAttribution:function removeAttribution(C){return C?(this._attributions[C]&&(this._attributions[C]--,this._update()),this):this},_update:function _update(){if(this._map){var C=[];for(var E in this._attributions)this._attributions[E]&&C.push(E);var B=[];this.options.prefix&&B.push(this.options.prefix),C.length&&B.push(C.join(', ')),this._container.innerHTML=B.join(' | ')}}}),h.Map.mergeOptions({attributionControl:!0}),h.Map.addInitHook(function(){this.options.attributionControl&&new h.Control.Attribution().addTo(this)}),h.control.attribution=function(C){return new h.Control.Attribution(C)},h.Control.Scale=h.Control.extend({options:{position:'bottomleft',maxWidth:100,metric:!0,imperial:!0},onAdd:function onAdd(C){var E='leaflet-control-scale',B=h.DomUtil.create('div',E),U=this.options;return this._addScales(U,E+'-line',B),C.on(U.updateWhenIdle?'moveend':'move',this._update,this),C.whenReady(this._update,this),B},onRemove:function onRemove(C){C.off(this.options.updateWhenIdle?'moveend':'move',this._update,this)},_addScales:function _addScales(C,E,B){C.metric&&(this._mScale=h.DomUtil.create('div',E,B)),C.imperial&&(this._iScale=h.DomUtil.create('div',E,B))},_update:function _update(){var C=this._map,E=C.getSize().y/2,B=C.distance(C.containerPointToLatLng([0,E]),C.containerPointToLatLng([this.options.maxWidth,E]));this._updateScales(B)},_updateScales:function _updateScales(C){this.options.metric&&C&&this._updateMetric(C),this.options.imperial&&C&&this._updateImperial(C)},_updateMetric:function _updateMetric(C){var E=this._getRoundNum(C),B=1e3>E?E+' m':E/1e3+' km';this._updateScale(this._mScale,B,E/C)},_updateImperial:function _updateImperial(C){var E=3.2808399*C,B,U,O;5280<E?(B=E/5280,U=this._getRoundNum(B),this._updateScale(this._iScale,U+' mi',U/B)):(O=this._getRoundNum(E),this._updateScale(this._iScale,O+' ft',O/E))},_updateScale:function _updateScale(C,E,B){C.style.width=_Mathround(this.options.maxWidth*B)+'px',C.innerHTML=E},_getRoundNum:function _getRoundNum(C){var E=_Mathpow(10,(_Mathfloor(C)+'').length-1),B=C/E;return B=10<=B?10:5<=B?5:3<=B?3:2<=B?2:1,E*B}}),h.control.scale=function(C){return new h.Control.Scale(C)},h.Control.Layers=h.Control.extend({options:{collapsed:!0,position:'topright',autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function sortFunction(C,E,B,U){return B<U?-1:U<B?1:0}},initialize:function initialize(C,E,B){for(var U in h.setOptions(this,B),this._layers=[],this._lastZIndex=0,this._handlingClick=!1,C)this._addLayer(C[U],U);for(U in E)this._addLayer(E[U],U,!0)},onAdd:function onAdd(C){return this._initLayout(),this._update(),this._map=C,C.on('zoomend',this._checkDisabledLayers,this),this._container},onRemove:function onRemove(){this._map.off('zoomend',this._checkDisabledLayers,this);for(var C=0;C<this._layers.length;C++)this._layers[C].layer.off('add remove',this._onLayerChange,this)},addBaseLayer:function addBaseLayer(C,E){return this._addLayer(C,E),this._map?this._update():this},addOverlay:function addOverlay(C,E){return this._addLayer(C,E,!0),this._map?this._update():this},removeLayer:function removeLayer(C){C.off('add remove',this._onLayerChange,this);var E=this._getLayer(h.stamp(C));return E&&this._layers.splice(this._layers.indexOf(E),1),this._map?this._update():this},expand:function expand(){h.DomUtil.addClass(this._container,'leaflet-control-layers-expanded'),this._form.style.height=null;var C=this._map.getSize().y-(this._container.offsetTop+50);return C<this._form.clientHeight?(h.DomUtil.addClass(this._form,'leaflet-control-layers-scrollbar'),this._form.style.height=C+'px'):h.DomUtil.removeClass(this._form,'leaflet-control-layers-scrollbar'),this._checkDisabledLayers(),this},collapse:function collapse(){return h.DomUtil.removeClass(this._container,'leaflet-control-layers-expanded'),this},_initLayout:function _initLayout(){var C='leaflet-control-layers',E=this._container=h.DomUtil.create('div',C),B=this.options.collapsed;E.setAttribute('aria-haspopup',!0),h.DomEvent.disableClickPropagation(E),h.Browser.touch||h.DomEvent.disableScrollPropagation(E);var U=this._form=h.DomUtil.create('form',C+'-list');B&&(this._map.on('click',this.collapse,this),!h.Browser.android&&h.DomEvent.on(E,{mouseenter:this.expand,mouseleave:this.collapse},this));var O=this._layersLink=h.DomUtil.create('a',C+'-toggle',E);O.href='#',O.title='Layers',h.Browser.touch?h.DomEvent.on(O,'click',h.DomEvent.stop).on(O,'click',this.expand,this):h.DomEvent.on(O,'focus',this.expand,this),h.DomEvent.on(U,'click',function(){setTimeout(h.bind(this._onInputClick,this),0)},this),B||this.expand(),this._baseLayersList=h.DomUtil.create('div',C+'-base',U),this._separator=h.DomUtil.create('div',C+'-separator',U),this._overlaysList=h.DomUtil.create('div',C+'-overlays',U),E.appendChild(U)},_getLayer:function _getLayer(C){for(var E=0;E<this._layers.length;E++)if(this._layers[E]&&h.stamp(this._layers[E].layer)===C)return this._layers[E]},_addLayer:function _addLayer(C,E,B){C.on('add remove',this._onLayerChange,this),this._layers.push({layer:C,name:E,overlay:B}),this.options.sortLayers&&this._layers.sort(h.bind(function(U,O){return this.options.sortFunction(U.layer,O.layer,U.name,O.name)},this)),this.options.autoZIndex&&C.setZIndex&&(this._lastZIndex++,C.setZIndex(this._lastZIndex))},_update:function _update(){if(!this._container)return this;h.DomUtil.empty(this._baseLayersList),h.DomUtil.empty(this._overlaysList);var O=0,C,E,B,U;for(B=0;B<this._layers.length;B++)U=this._layers[B],this._addItem(U),E=E||U.overlay,C=C||!U.overlay,O+=U.overlay?0:1;return this.options.hideSingleBase&&(C=C&&1<O,this._baseLayersList.style.display=C?'':'none'),this._separator.style.display=E&&C?'':'none',this},_onLayerChange:function _onLayerChange(C){this._handlingClick||this._update();var E=this._getLayer(h.stamp(C.target)),B=E.overlay?'add'===C.type?'overlayadd':'overlayremove':'add'===C.type?'baselayerchange':null;B&&this._map.fire(B,E)},_createRadioElement:function _createRadioElement(C,E){var B='<input type="radio" class="leaflet-control-layers-selector" name="'+C+'"'+(E?' checked="checked"':'')+'/>',U=_.createElement('div');return U.innerHTML=B,U.firstChild},_addItem:function _addItem(C){var E=_.createElement('label'),B=this._map.hasLayer(C.layer),U;C.overlay?(U=_.createElement('input'),U.type='checkbox',U.className='leaflet-control-layers-selector',U.defaultChecked=B):U=this._createRadioElement('leaflet-base-layers',B),U.layerId=h.stamp(C.layer),h.DomEvent.on(U,'click',this._onInputClick,this);var O=_.createElement('span');O.innerHTML=' '+C.name;var Z=_.createElement('div');E.appendChild(Z),Z.appendChild(U),Z.appendChild(O);var A=C.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(E),this._checkDisabledLayers(),E},_onInputClick:function _onInputClick(){var C=this._form.getElementsByTagName('input'),E,B,U,O=[],Z=[];this._handlingClick=!0;for(var A=C.length-1;0<=A;A--)E=C[A],B=this._getLayer(E.layerId).layer,U=this._map.hasLayer(B),E.checked&&!U?O.push(B):!E.checked&&U&&Z.push(B);for(A=0;A<Z.length;A++)this._map.removeLayer(Z[A]);for(A=0;A<O.length;A++)this._map.addLayer(O[A]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function _checkDisabledLayers(){for(var C=this._form.getElementsByTagName('input'),U=this._map.getZoom(),O=C.length-1,E,B;0<=O;O--)E=C[O],B=this._getLayer(E.layerId).layer,E.disabled=B.options.minZoom!==g&&U<B.options.minZoom||B.options.maxZoom!==g&&U>B.options.maxZoom},_expand:function _expand(){return this.expand()},_collapse:function _collapse(){return this.collapse()}}),h.control.layers=function(C,E,B){return new h.Control.Layers(C,E,B)}})(window,document);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(207)(module)))

/***/ }),

/***/ 880:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 881:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 882:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
module.exports=__webpack_require__(884);

/***/ }),

/***/ 883:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var L=__webpack_require__(877),Circle=module.exports=L.CircleMarker.extend({options:{textStyle:{color:'#fff',fontSize:12,fontWeight:300},shiftY:7},initialize:function initialize(a,b,c){this._text=a,this._textElement=null,this._textNode=null,this._textLayer=null,L.CircleMarker.prototype.initialize.call(this,b,c)},setText:function setText(a){return this._text=a,this._textNode&&this._textElement.removeChild(this._textNode),this._textNode=document.createTextNode(this._text),this._textElement.appendChild(this._textNode),this},getText:function getText(){return this._text},bringToFront:function bringToFront(){L.CircleMarker.prototype.bringToFront.call(this),this._groupTextToPath()},bringToBack:function bringToBack(){L.CircleMarker.prototype.bringToBack.call(this),this._groupTextToPath()},_groupTextToPath:function _groupTextToPath(){var a=this._path,b=this._textElement,c=a.nextSibling,d=a.parentNode;b&&d&&(c&&c!==b?d.insertBefore(b,c):d.appendChild(b))},_updatePath:function _updatePath(){L.CircleMarker.prototype._updatePath.call(this),this._updateTextPosition()},_transform:function _transform(a){L.CircleMarker.prototype._transform.call(this,a),this._textLayer=this._textLayer||{_path:this._textElement},a?this._renderer.transformPath(this._textLayer,a):(this._renderer._resetTransformPath(this._textLayer),this._updateTextPosition(),this._textLayer=null)},onAdd:function onAdd(a){return L.CircleMarker.prototype.onAdd.call(this,a),this._initText(),this._updateTextPosition(),this.setStyle(),this},_initText:function _initText(){this._textElement=L.SVG.create('text'),this.setText(this._text),this._renderer._rootGroup.appendChild(this._textElement)},_updateTextPosition:function _updateTextPosition(){var a=this._textElement;if(a){var b=a.getBBox(),c=this._point.subtract(L.point(b.width,-b.height+this.options.shiftY).divideBy(2));a.setAttribute('x',c.x),a.setAttribute('y',c.y),this._groupTextToPath()}},setStyle:function setStyle(a){if(L.CircleMarker.prototype.setStyle.call(this,a),this._textElement){var b=this.options.textStyle;for(var c in b)if(b.hasOwnProperty(c)){var d=c;'color'==c&&(d='stroke'),this._textElement.style[d]=b[c]}}},onRemove:function onRemove(a){return this._textElement&&(this._textElement.parentNode&&this._textElement.parentNode.removeChild(this._textElement),this._textElement=null,this._textNode=null,this._textLayer=null),L.CircleMarker.prototype.onRemove.call(this,a)}});L.TextCircle=Circle,L.textCircle=function(a,b,c){return new Circle(a,b,c)};

/***/ }),

/***/ 884:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var L=__webpack_require__(877),Circle=__webpack_require__(883);__webpack_require__(885);var LabeledMarker=L.FeatureGroup.extend({options:{getLabelText:function getLabelText(a,b){return b.properties.text},getLabelPosition:function getLabelPosition(a,b,c){return b.properties.labelPosition?L.latLng(b.properties.labelPosition.slice().reverse()):c},labelPositionKey:'labelPosition',markerOptions:{color:'#f00',fillOpacity:0.75,draggable:!0,radius:15},anchorOptions:{color:'#00f',radius:3},lineOptions:{color:'#f00',dashArray:[2,6],lineCap:'square',weight:2}},initialize:function initialize(a,b,c){L.Util.setOptions(this,c),this.feature=b||{type:'Feature',properties:{},geometry:{type:'Point'}},this._latlng=a,this._marker=null,this._anchor=null,this._line=null,this._initialDistance=null,this._createLayers(),L.LayerGroup.prototype.initialize.call(this,[this._anchor,this._line,this._marker])},getLabelPosition:function getLabelPosition(){return this._marker.getLatLng()},getLatLng:function getLatLng(){return this._latlng},toGeoJSON:function toGeoJSON(a){var b=L.GeoJSON.getFeature(this,{type:'Point',coordinates:L.GeoJSON.latLngToCoords(this._anchor.getLatLng())});return b.properties[this.options.labelPositionKey]=L.GeoJSON.latLngToCoords(this._marker.getLatLng()),b.properties.text=this._marker.getText(),a?L.LabeledCircleMarker.toGeometryCollection(b,this.options.labelPositionKey):b},setText:function setText(a){return this._marker.setText(a),this},_createLayers:function _createLayers(){var a=this.options,b=a.getLabelPosition(this,this.feature,this._latlng),c=a.getLabelText(this,this.feature);'draggable'in a&&(a.markerOptions.draggable=a.draggable),this._marker=new Circle(c,b,L.Util.extend({interactive:this.options.interactive},LabeledMarker.prototype.options.markerOptions,a.markerOptions)).on('drag',this._onMarkerDrag,this).on('dragstart',this._onMarkerDragStart,this).on('dragend',this._onMarkerDragEnd,this),this._anchor=new L.CircleMarker(this._latlng,L.Util.extend({},LabeledMarker.prototype.options.anchorOptions,a.anchorOptions)),this._line=new L.Polyline([this._latlng,this._marker.getLatLng()],L.Util.extend({},LabeledMarker.prototype.options.lineOptions,a.lineOptions))},_onMarkerDragStart:function _onMarkerDragStart(a){this._initialDistance=L.DomEvent.getMousePosition(a).subtract(this._map.latLngToContainerPoint(this._marker.getLatLng())),this.fire('label:'+a.type,a)},_onMarkerDrag:function _onMarkerDrag(a){var b=this._map.containerPointToLatLng(L.DomEvent.getMousePosition(a)._subtract(this._initialDistance));this._line.setLatLngs([b,this._latlng]),this.fire('label:'+a.type,a)},_onMarkerDragEnd:function _onMarkerDragEnd(a){this._line.setLatLngs([this._marker.getLatLng(),this._latlng]),this.fire('label:'+a.type,a)},enableDragging:function enableDragging(){return this._marker.dragging&&this._marker.dragging.enable(),this},disableDragging:function disableDragging(){return this._marker.dragging&&this._marker.dragging.disable(),this}});function toGeometryCollection(a,b){b=b||'labelPosition';var c=a.geometry.coordinates.slice(),d=a.properties[b];if(!d)throw new Error('No label position set');d=d.slice();var e=[{type:'Point',coordinates:c},{type:'LineString',coordinates:[c.slice(),d]},{type:'Point',coordinates:d.slice()},{type:'Point',coordinates:d.slice()}];return{type:'Feature',properties:L.Util.extend({},a.properties,{geometriesTypes:['anchor','connection','label','textbox']}),bbox:a.bbox,geometry:{type:'GeometryCollection',geometries:e}}}LabeledMarker.toGeometryCollection=toGeometryCollection,module.exports=L.LabeledCircleMarker=LabeledMarker,L.labeledCircleMarker=function(a,b,c){return new LabeledMarker(a,b,c)};

/***/ }),

/***/ 885:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
__webpack_require__(890),__webpack_require__(889),__webpack_require__(886),__webpack_require__(888),__webpack_require__(887),module.exports=L.Path.Drag;

/***/ }),

/***/ 886:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
L.Util.trueFn=function(){return!0},L.Canvas.include({_resetTransformPath:function _resetTransformPath(a){this._containerCopy&&(delete this._containerCopy,a._containsPoint_&&(a._containsPoint=a._containsPoint_,delete a._containsPoint_,this._requestRedraw(a)))},transformPath:function transformPath(a,b){var c=this._containerCopy,d=this._ctx,e,f=L.Browser.retina?2:1,g=this._bounds,h=g.getSize(),i=g.min;c||(c=this._containerCopy=document.createElement('canvas'),e=c.getContext('2d'),c.width=f*h.x,c.height=f*h.y,this._removePath(a),this._redraw(),e.translate(f*g.min.x,f*g.min.y),e.drawImage(this._container,0,0),this._initPath(a),a._containsPoint_=a._containsPoint,a._containsPoint=L.Util.trueFn),d.save(),d.clearRect(i.x,i.y,h.x*f,h.y*f),d.setTransform(1,0,0,1,0,0),d.restore(),d.save(),d.drawImage(this._containerCopy,0,0,h.x,h.y),d.transform.apply(d,b),this._drawing=!0,a._updatePath(),this._drawing=!1,d.restore()}});

/***/ }),

/***/ 887:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
L.Handler.PathDrag=L.Handler.extend({statics:{DRAGGING_CLS:'leaflet-path-draggable'},initialize:function initialize(a){this._path=a,this._matrix=null,this._startPoint=null,this._dragStartPoint=null,this._mapDraggingWasEnabled=!1},addHooks:function addHooks(){this._path.on('mousedown',this._onDragStart,this),this._path.options.className=this._path.options.className?this._path.options.className+' '+L.Handler.PathDrag.DRAGGING_CLS:L.Handler.PathDrag.DRAGGING_CLS,this._path._path&&L.DomUtil.addClass(this._path._path,L.Handler.PathDrag.DRAGGING_CLS)},removeHooks:function removeHooks(){this._path.off('mousedown',this._onDragStart,this),this._path.options.className=this._path.options.className.replace(new RegExp('\\s+'+L.Handler.PathDrag.DRAGGING_CLS),''),this._path._path&&L.DomUtil.removeClass(this._path._path,L.Handler.PathDrag.DRAGGING_CLS)},moved:function moved(){return this._path._dragMoved},_onDragStart:function _onDragStart(a){var b=a.originalEvent._simulated?'touchstart':a.originalEvent.type;this._mapDraggingWasEnabled=!1,this._startPoint=a.containerPoint.clone(),this._dragStartPoint=a.containerPoint.clone(),this._matrix=[1,0,0,1,0,0],L.DomEvent.stop(a.originalEvent),L.DomUtil.addClass(this._path._renderer._container,'leaflet-interactive'),L.DomEvent.on(document,L.Draggable.MOVE[b],this._onDrag,this).on(document,L.Draggable.END[b],this._onDragEnd,this),this._path._map.dragging.enabled()&&(this._path._map.dragging.disable(),this._mapDraggingWasEnabled=!0),this._path._dragMoved=!1,this._path._popup&&this._path._popup._close(),this._replaceCoordGetters(a)},_onDrag:function _onDrag(a){L.DomEvent.stop(a);var b=a.touches&&1<=a.touches.length?a.touches[0]:a,c=this._path._map.mouseEventToContainerPoint(b);if('touchmove'===a.type&&!this._path._dragMoved){var d=this._dragStartPoint.distanceTo(c);if(d<=this._path._map.options.tapTolerance)return}var e=c.x,f=c.y,g=e-this._startPoint.x,h=f-this._startPoint.y;(g||h)&&(!this._path._dragMoved&&(this._path._dragMoved=!0,this._path.fire('dragstart',a),this._path.bringToFront()),this._matrix[4]+=g,this._matrix[5]+=h,this._startPoint.x=e,this._startPoint.y=f,this._path.fire('predrag',a),this._path._transform(this._matrix),this._path.fire('drag',a))},_onDragEnd:function _onDragEnd(a){var b=this._path._map.mouseEventToContainerPoint(a),c=this.moved();if(c&&(this._transformPoints(this._matrix),this._path._updatePath(),this._path._project(),this._path._transform(null),L.DomEvent.stop(a)),L.DomEvent.off(document,'mousemove touchmove',this._onDrag,this).off(document,'mouseup touchend',this._onDragEnd,this),this._restoreCoordGetters(),c){this._path.fire('dragend',{distance:Math.sqrt(L.LineUtil._sqDist(this._dragStartPoint,b))});var d=this._path._containsPoint;this._path._containsPoint=L.Util.falseFn,L.Util.requestAnimFrame(function(){L.DomEvent._skipped({type:'click'}),this._path._containsPoint=d},this)}this._matrix=null,this._startPoint=null,this._dragStartPoint=null,this._path._dragMoved=!1,this._mapDraggingWasEnabled&&(c&&L.DomEvent._fakeStop({type:'click'}),this._path._map.dragging.enable())},_transformPoints:function _transformPoints(a,b){var d,e,f,c=this._path,g=L.point(a[4],a[5]),h=c._map.options.crs,k=h.transformation,l=h.scale(c._map.getZoom()),m=h.projection,n=k.untransform(g,l).subtract(k.untransform(L.point(0,0),l)),o=!b;if(c._bounds=new L.LatLngBounds,c._point)b=m.unproject(m.project(c._latlng)._add(n)),o&&(c._latlng=b,c._point._add(g));else if(c._rings||c._parts){var p=c._rings||c._parts,q=c._latlngs;for(b=b||q,L.Util.isArray(q[0])||(q=[q],b=[b]),(d=0,e=p.length);d<e;d++){b[d]=b[d]||[];for(var r=0,s=p[d].length;r<s;r++)f=q[d][r],b[d][r]=m.unproject(m.project(f)._add(n)),o&&(c._bounds.extend(q[d][r]),p[d][r]._add(g))}}return b},_replaceCoordGetters:function _replaceCoordGetters(){this._path.getLatLng?(this._path.getLatLng_=this._path.getLatLng,this._path.getLatLng=L.Util.bind(function(){return this.dragging._transformPoints(this.dragging._matrix,{})},this._path)):this._path.getLatLngs&&(this._path.getLatLngs_=this._path.getLatLngs,this._path.getLatLngs=L.Util.bind(function(){return this.dragging._transformPoints(this.dragging._matrix,[])},this._path))},_restoreCoordGetters:function _restoreCoordGetters(){this._path.getLatLng_?(this._path.getLatLng=this._path.getLatLng_,delete this._path.getLatLng_):this._path.getLatLngs_&&(this._path.getLatLngs=this._path.getLatLngs_,delete this._path.getLatLngs_)}}),L.Handler.PathDrag.makeDraggable=function(a){return a.dragging=new L.Handler.PathDrag(a),a},L.Path.prototype.makeDraggable=function(){return L.Handler.PathDrag.makeDraggable(this)},L.Path.addInitHook(function(){this.options.draggable?(this.options.interactive=!0,this.dragging?this.dragging.enable():(L.Handler.PathDrag.makeDraggable(this),this.dragging.enable())):this.dragging&&this.dragging.disable()});

/***/ }),

/***/ 888:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
L.Path.include({_transform:function _transform(a){return this._renderer&&(a?this._renderer.transformPath(this,a):(this._renderer._resetTransformPath(this),this._update())),this},_onMouseClick:function _onMouseClick(a){this.dragging&&this.dragging.moved()||this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)}});

/***/ }),

/***/ 889:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _Mathfloor=Math.floor;L.SVG.include(L.Browser.vml?{_resetTransformPath:function _resetTransformPath(a){a._skew&&(a._skew.on=!1,a._path.removeChild(a._skew),a._skew=null)},transformPath:function transformPath(a,b){var c=a._skew;c||(c=L.SVG.create('skew'),a._path.appendChild(c),c.style.behavior='url(#default#VML)',a._skew=c);var d=b[0].toFixed(8)+' '+b[1].toFixed(8)+' '+b[2].toFixed(8)+' '+b[3].toFixed(8)+' 0 0',e=_Mathfloor(b[4]).toFixed()+', '+_Mathfloor(b[5]).toFixed()+'',f=this._path.style,g=parseFloat(f.left),i=parseFloat(f.top),j=parseFloat(f.width),k=parseFloat(f.height);isNaN(g)&&(g=0),isNaN(i)&&(i=0),(isNaN(j)||!j)&&(j=1),(isNaN(k)||!k)&&(k=1);var m=(-g/j-0.5).toFixed(8)+' '+(-i/k-0.5).toFixed(8);c.on='f',c.matrix=d,c.origin=m,c.offset=e,c.on=!0}}:{});

/***/ }),

/***/ 890:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
L.SVG.include({_resetTransformPath:function _resetTransformPath(a){a._path.setAttributeNS(null,'transform','')},transformPath:function transformPath(a,b){a._path.setAttributeNS(null,'transform','matrix('+b.join(' ')+')')}});

/***/ }),

/***/ 912:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__(30),_walkActions=__webpack_require__(324),actions=_interopRequireWildcard(_walkActions);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}__webpack_require__(928);var Drawer=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.togDrawer=d.togDrawer.bind(d),d}return _inherits(b,a),_createClass(b,[{key:'togDrawer',value:function togDrawer(){this.props.toggleDrawer()}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'drawer '+(this.props.drawerOpen?'open':'')},_react2.default.createElement('div',{className:'toggle',onClick:this.togDrawer},this.props.toggleText),this.props.children)}}]),b}(_react.Component);function mapStateToProps(a){return{drawerOpen:a.walks.ui.drawerOpen}}exports.default=(0,_reactRedux.connect)(mapStateToProps,actions)(Drawer);

/***/ }),

/***/ 918:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
(function(){L.Icon.Pulse=L.DivIcon.extend({options:{className:'',iconSize:[12,12],color:'red',animate:!0,heartbeat:1},initialize:function initialize(b){L.setOptions(this,b);var c='lpi-'+new Date().getTime()+'-'+Math.round(1e5*Math.random()),d=['background-color: '+this.options.color],e=['box-shadow: 0 0 6px 2px '+this.options.color,'animation: pulsate '+this.options.heartbeat+'s ease-out','animation-iteration-count: infinite','animation-delay: '+(this.options.heartbeat+.1)+'s'];this.options.animate||(e.push('animation: none'),e.push('box-shadow:none'));var f=['.'+c+'{'+d.join(';')+';}','.'+c+':after{'+e.join(';')+';}'].join(''),g=document.createElement('style');g.styleSheet?g.styleSheet.cssText=f:g.appendChild(document.createTextNode(f)),document.getElementsByTagName('head')[0].appendChild(g),this.options.className=this.options.className+' leaflet-pulsing-icon '+c,L.DivIcon.prototype.initialize.call(this,b)}}),L.icon.pulse=function(b){return new L.Icon.Pulse(b)},L.Marker.Pulse=L.Marker.extend({initialize:function initialize(b,c){c.icon=L.icon.pulse(c),L.Marker.prototype.initialize.call(this,b,c)}}),L.marker.pulse=function(b,c){return new L.Marker.Pulse(b,c)}})(window);

/***/ }),

/***/ 919:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});exports.default=function(a){var b=function(c){function d(){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return _inherits(d,c),_createClass(d,[{key:'render',value:function render(){return _react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{component:'span',transitionName:'fader',transitionEnter:!0,transitionEnterTimeout:650,transitionAppear:!0,transitionAppearTimeout:650,transitionLeave:!0,transitionLeaveTimeout:650},_react2.default.createElement(a,props))}}]),d}(_react.Component);return b};var _react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=__webpack_require__(327),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}__webpack_require__(337);

/***/ }),

/***/ 924:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__(30),_walkActions=__webpack_require__(324),actions=_interopRequireWildcard(_walkActions),_RaisedButton=__webpack_require__(823),_RaisedButton2=_interopRequireDefault(_RaisedButton);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}__webpack_require__(880);var styles={button:{width:'90%'}},Directions=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.state={open:!1,lastClass:''},d.renderItems=d.renderItems.bind(d),d.getClickHandler=d.getClickHandler.bind(d),d.renderNextStop=d.renderNextStop.bind(d),d}return _inherits(b,a),_createClass(b,[{key:'getClickHandler',value:function getClickHandler(c){var d=this.props.setCurrentManeuver;return function handler(){d(c)}}},{key:'renderNextStop',value:function renderNextStop(){var c=this.props.stops[this.props.selectedStopIdx+1].address,d=this.props.stops[this.props.selectedStopIdx+1].pt_title;return[_react2.default.createElement('div',{key:'addr',className:'next-stop'},_react2.default.createElement('div',{className:'next-stop-button'},_react2.default.createElement('div',{className:'next-title'},d),_react2.default.createElement('div',{className:'next-address'},c)))]}},{key:'renderItems',value:function renderItems(){var c=this;if(this.props.selectedStopIdx==this.props.route.length)return[_react2.default.createElement('div',{key:'addr',className:'next-stop'},_react2.default.createElement('div',{className:'next-stop-button'},_react2.default.createElement('div',{className:'next-title'},'End Walk'),_react2.default.createElement('div',{className:'next-address'},'Do something here')))];var e=this.props.route[this.props.selectedStopIdx].maneuvers;return 0==e.length?_react2.default.createElement('li',{key:'man'},'Next Stop is here'):e.map(function(f,g){return g==c.props.selectedManeuverIdx?_react2.default.createElement('li',{key:f+f.index,className:'maneuver current',onClick:c.getClickHandler(g)},f.narrative):g==e.length-1?_react2.default.createElement('li',{key:f+f.index,className:'maneuver last',onClick:c.getClickHandler(g)},'You have arrived. Rotate device for Stop Info'):_react2.default.createElement('li',{key:f+f.index,className:'maneuver',onClick:c.getClickHandler(g)},f.narrative)})}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'fade directions'},_react2.default.createElement('div',{className:'maneuver-title'},'Directions'),this.renderNextStop(),_react2.default.createElement('ul',{className:'maneuver-container'},this.renderItems()))}}]),b}(_react.Component);function mapStateToProps(a){return{route:a.walks.selectedWalk.route,stops:a.walks.selectedWalk.stops,selectedStopIdx:a.walks.selectedWalk.selectedStopIdx,selectedManeuverIdx:a.walks.selectedWalk.selectedManeuverIdx}}exports.default=(0,_reactRedux.connect)(mapStateToProps,actions)(Directions);

/***/ }),

/***/ 925:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(47),_reactDom2=_interopRequireDefault(_reactDom),_reactRedux=__webpack_require__(30),_walkActions=__webpack_require__(324),actions=_interopRequireWildcard(_walkActions);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}__webpack_require__(881);var StopDetail=function(a){function b(c){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c))}return _inherits(b,a),_createClass(b,[{key:'componentDidUpdate',value:function componentDidUpdate(){this.props.isShowing&&_reactDom2.default.findDOMNode(this.refs.toppage).scrollIntoView()}},{key:'render',value:function render(){var c=this.props.walkTitle;return _react2.default.createElement('div',{className:'FORM stop-container'},_react2.default.createElement('div',{id:'toppage',className:'toppage',ref:'toppage'},'--'),_react2.default.createElement('div',{className:'kicker'},c),_react2.default.createElement('h4',{className:'walk-title'},this.props.stop.pt_title),_react2.default.createElement('hr',{className:'primary'}),_react2.default.createElement('p',{className:'fade textbox'},this.props.stop.pt_descr),_react2.default.createElement('hr',{className:'primary'}))}}]),b}(_react.Component);function mapStateToProps(a){return{walkTitle:a.walks.selectedWalk.title,stop:a.walks.selectedWalk.stops[a.walks.selectedWalk.selectedStopIdx]}}exports.default=(0,_reactRedux.connect)(mapStateToProps,actions)(StopDetail);

/***/ }),

/***/ 926:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__(30),_actions=__webpack_require__(135),actions=_interopRequireWildcard(_actions),_theme=__webpack_require__(326);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var LabeledMarker=__webpack_require__(882);__webpack_require__(918),__webpack_require__(929);var map,hereLayer,stopCir={color:'#128ba1',fillColor:'#128ba1',fillOpacity:1},pulsingIcon=L.icon.pulse({iconSize:[12,12],color:_theme.myColors.orange,heartbeat:3}),markerOptions={textStyle:{color:'#fff',fontSize:12,fontFamily:'Helvetica, Arial, sans-serif'},shiftY:6},WalkingMap=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.updateRoute=d.updateRoute.bind(d),d.updateMarkers=d.updateMarkers.bind(d),d.updateStops=d.updateStops.bind(d),d}return _inherits(b,a),_createClass(b,[{key:'componentDidMount',value:function componentDidMount(){var c=this.props.selectedWalk.lat,d=this.props.selectedWalk.lng;map=L.map('walkingmap').setView([c,d],15),hereLayer=new L.LayerGroup().addTo(map);L.tileLayer('https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png',{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(map);this.updateRoute(),this.updateStops(),this.updateMarkers()}},{key:'componentDidUpdate',value:function componentDidUpdate(){this.updateMarkers()}},{key:'updateMarkers',value:function updateMarkers(){if(this.props.manCoords){hereLayer.clearLayers();L.marker(this.props.manCoords,{icon:pulsingIcon}).addTo(hereLayer);map.panTo([this.props.manCoords.lat,this.props.manCoords.lng])}}},{key:'updateStops',value:function updateStops(){if(0<this.props.stops.length)for(var e=this.props.stops,c=0,d=e.length;c<d;c++)L.circle(new L.LatLng(e[c].lat,e[c].lng),12,stopCir).addTo(map)}},{key:'updateRoute',value:function updateRoute(){if(0<this.props.route.length){for(var g=this.props.route,h=[],c=0,d=g.length;c<d;c++)for(var e=0,f=g[c].maneuvers.length;e<f;e++)h.push(new L.LatLng(g[c].maneuvers[e].startPoint.lat,g[c].maneuvers[e].startPoint.lng));var j=L.polyline(h,{color:'#128ba1',weight:3,opacity:.7,dashArray:'10,7',lineJoin:'round'});map.fitBounds(L.latLngBounds(h)),j.addTo(map)}}},{key:'componentWillUnmount',value:function componentWillUnmount(){hereLayer=null,map=null}},{key:'render',value:function render(){return _react2.default.createElement('div',{id:'walkingmap'})}}]),b}(_react.Component);function mapStateToProps(a){var b=null,c=a.walks.selectedWalk,d=c.selectedManeuverIdx;return c.selectedStopIdx<c.route.length&&(b=c.route[c.selectedStopIdx].maneuvers[d].startPoint),{selectedWalk:c,route:c.route,stops:c.stops,currentStopIdx:c.selectedStopIdx,manIdx:d,manCoords:b}}exports.default=(0,_reactRedux.connect)(mapStateToProps,actions)(WalkingMap);

/***/ }),

/***/ 928:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 929:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 936:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 938:
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ })

});